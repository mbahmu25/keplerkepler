import * as arrow from 'apache-arrow';
import { DATA_TYPES as AnalyzerDATA_TYPES } from 'type-analyzer';
import { ProtoDatasetField } from '@kepler.gl/types';
import { DataRow, SharedRowOptions } from './data-row';
import { DataContainerInterface, RangeOptions } from './data-container-interface';
declare type ArrowDataContainerInput = {
    cols: arrow.Vector[];
    fields?: ProtoDatasetField[];
};
/**
 * A data container where all data is stored in raw Arrow table
 */
export declare class ArrowDataContainer implements DataContainerInterface {
    _cols: arrow.Vector[];
    _numColumns: number;
    _numRows: number;
    _fields: ProtoDatasetField[];
    _numChunks: number;
    /** An arrow table recreated from vectors */
    _arrowTable: arrow.Table;
    constructor(data: ArrowDataContainerInput);
    /**
     * Restores internal Arrow table from vectors.
     * TODO: consider using original arrow table, as it could contain extra metadata, not passed to the fields.
     */
    private _createTable;
    getTable(): arrow.Table<any>;
    update(updateData: arrow.Vector<any>[]): void;
    numChunks(): number;
    numRows(): number;
    numColumns(): number;
    valueAt(rowIndex: number, columnIndex: number): any;
    row(rowIndex: number, sharedRow?: SharedRowOptions): DataRow;
    rowAsArray(rowIndex: number): any[];
    rows(sharedRow: SharedRowOptions): any;
    column(columnIndex: number): Generator<any, void, unknown>;
    getColumn(columnIndex: number): arrow.Vector;
    getField(columnIndex: number): ProtoDatasetField;
    flattenData(): any[][];
    getPlainIndex(): number[];
    map<T>(func: (row: DataRow, index: number) => T, sharedRow?: SharedRowOptions, options?: RangeOptions): T[];
    mapIndex<T>(func: ({ index }: {
        index: any;
    }, dc: DataContainerInterface) => T, options?: RangeOptions): T[];
    find(func: (row: DataRow, index: number) => boolean, sharedRow?: SharedRowOptions): DataRow | undefined;
    reduce<T>(func: (acc: T, row: DataRow, index: number) => T, initialValue: T, sharedRow?: SharedRowOptions): T;
}
/**
 * Convert arrow data type to kepler.gl field types
 *
 * @param arrowType the arrow data type
 * @returns corresponding type in `ALL_FIELD_TYPES`
 */
export declare function arrowDataTypeToFieldType(arrowType: arrow.DataType): string;
/**
 * Convert arrow data type to analyzer type
 *
 * @param arrowType the arrow data type
 * @returns corresponding type in `AnalyzerDATA_TYPES`
 */
export declare function arrowDataTypeToAnalyzerDataType(arrowType: arrow.DataType): typeof AnalyzerDATA_TYPES;
export {};

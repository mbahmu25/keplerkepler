"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.geojsonVisConfigs = exports.geoJsonRequiredColumns = exports.featureAccessor = exports.defaultRadius = exports.defaultLineWidth = exports.defaultElevation = exports["default"] = exports.COLUMN_MODE_TABLE = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _helpers = require("@turf/helpers");
var _booleanWithin = _interopRequireDefault(require("@turf/boolean-within"));
var _lodash = _interopRequireDefault(require("lodash.uniq"));
var _typeAnalyzer = require("type-analyzer");
var _baseLayer = _interopRequireWildcard(require("../base-layer"));
var _layers = require("@deck.gl/layers");
var _geojsonUtils = require("./geojson-utils");
var _layerUtils = require("../layer-utils");
var _geojsonLayerIcon = _interopRequireDefault(require("./geojson-layer-icon"));
var _constants = require("@kepler.gl/constants");
var _utils = require("@kepler.gl/utils");
var _deckglLayers = require("@kepler.gl/deckgl-layers");
var _geojsonInfoModal = _interopRequireDefault(require("./geojson-info-modal"));
var _excluded = ["data"];
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != _typeof(e) && "function" != typeof e) return { "default": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n["default"] = e, t && t.set(e, n), n; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2["default"])(o), (0, _possibleConstructorReturn2["default"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2["default"])(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
function _superPropGet(t, e, r, o) { var p = (0, _get2["default"])((0, _getPrototypeOf2["default"])(1 & o ? t.prototype : t), e, r); return 2 & o ? function (t) { return p.apply(r, t); } : p; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2["default"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; } // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
var SUPPORTED_ANALYZER_TYPES = (0, _defineProperty2["default"])((0, _defineProperty2["default"])((0, _defineProperty2["default"])({}, _typeAnalyzer.DATA_TYPES.GEOMETRY, true), _typeAnalyzer.DATA_TYPES.GEOMETRY_FROM_STRING, true), _typeAnalyzer.DATA_TYPES.PAIR_GEOMETRY_FROM_STRING, true);
var geojsonVisConfigs = exports.geojsonVisConfigs = {
  opacity: 'opacity',
  strokeOpacity: _objectSpread(_objectSpread({}, _constants.LAYER_VIS_CONFIGS.opacity), {}, {
    property: 'strokeOpacity'
  }),
  thickness: _objectSpread(_objectSpread({}, _constants.LAYER_VIS_CONFIGS.thickness), {}, {
    defaultValue: 0.5
  }),
  strokeColor: 'strokeColor',
  colorRange: 'colorRange',
  strokeColorRange: 'strokeColorRange',
  radius: 'radius',
  sizeRange: 'strokeWidthRange',
  radiusRange: 'radiusRange',
  heightRange: 'elevationRange',
  elevationScale: 'elevationScale',
  stroked: 'stroked',
  filled: 'filled',
  enable3d: 'enable3d',
  wireframe: 'wireframe',
  fixedHeight: 'fixedHeight'
};
var geoJsonRequiredColumns = exports.geoJsonRequiredColumns = ['geojson'];
var featureAccessor = exports.featureAccessor = function featureAccessor(_ref) {
  var geojson = _ref.geojson;
  return function (dc) {
    return function (d) {
      return dc.valueAt(d.index, geojson.fieldIdx);
    };
  };
};
var geoColumnAccessor = function geoColumnAccessor(_ref2) {
  var geojson = _ref2.geojson;
  return function (dc) {
    var _dc$getColumn;
    return (_dc$getColumn = dc.getColumn) === null || _dc$getColumn === void 0 ? void 0 : _dc$getColumn.call(dc, geojson.fieldIdx);
  };
};
var getTableModeValueAccessor = function getTableModeValueAccessor(feature) {
  // Called from gpu-filter-utils.getFilterValueAccessor()
  return function (field) {
    return feature.properties.values.map(function (v) {
      return field.valueAccessor(v);
    });
  };
};
var getTableModeFieldValue = function getTableModeFieldValue(field, data) {
  var rv;
  if (typeof data === 'function') {
    rv = data(field);
  } else {
    rv = (0, _baseLayer.defaultGetFieldValue)(field, data);
  }
  return rv;
};
var geoFieldAccessor = function geoFieldAccessor(_ref3) {
  var geojson = _ref3.geojson;
  return function (dc) {
    return dc.getField ? dc.getField(geojson.fieldIdx) : null;
  };
};

// access feature properties from geojson sub layer
var defaultElevation = exports.defaultElevation = 500;
var defaultLineWidth = exports.defaultLineWidth = 1;
var defaultRadius = exports.defaultRadius = 1;
var COLUMN_MODE_TABLE = exports.COLUMN_MODE_TABLE = 'table';
var SUPPORTED_COLUMN_MODES = [{
  key: _geojsonUtils.COLUMN_MODE_GEOJSON,
  label: 'GeoJSON',
  requiredColumns: ['geojson']
}, {
  key: COLUMN_MODE_TABLE,
  label: 'Table columns',
  requiredColumns: ['id', 'lat', 'lng'],
  optionalColumns: ['altitude', 'sortBy']
}];
var DEFAULT_COLUMN_MODE = _geojsonUtils.COLUMN_MODE_GEOJSON;
var GeoJsonLayer = exports["default"] = /*#__PURE__*/function (_Layer) {
  function GeoJsonLayer(props) {
    var _this;
    (0, _classCallCheck2["default"])(this, GeoJsonLayer);
    _this = _callSuper(this, GeoJsonLayer, [props]);
    (0, _defineProperty2["default"])(_this, "dataToFeature", []);
    (0, _defineProperty2["default"])(_this, "dataContainer", null);
    (0, _defineProperty2["default"])(_this, "filteredIndex", null);
    (0, _defineProperty2["default"])(_this, "filteredIndexTrigger", null);
    (0, _defineProperty2["default"])(_this, "centroids", []);
    (0, _defineProperty2["default"])(_this, "_layerInfoModal", void 0);
    _this.registerVisConfig(geojsonVisConfigs);
    _this.getPositionAccessor = function (dataContainer) {
      return featureAccessor(_this.config.columns)(dataContainer);
    };
    _this._layerInfoModal = (0, _defineProperty2["default"])((0, _defineProperty2["default"])({}, COLUMN_MODE_TABLE, (0, _geojsonInfoModal["default"])(COLUMN_MODE_TABLE)), _geojsonUtils.COLUMN_MODE_GEOJSON, (0, _geojsonInfoModal["default"])(_geojsonUtils.COLUMN_MODE_GEOJSON));
    return _this;
  }
  (0, _inherits2["default"])(GeoJsonLayer, _Layer);
  return (0, _createClass2["default"])(GeoJsonLayer, [{
    key: "type",
    get: function get() {
      return GeoJsonLayer.type;
    }
  }, {
    key: "name",
    get: function get() {
      return 'Polygon';
    }
  }, {
    key: "layerIcon",
    get: function get() {
      return _geojsonLayerIcon["default"];
    }
  }, {
    key: "columnPairs",
    get: function get() {
      return this.defaultPointColumnPairs;
    }
  }, {
    key: "supportedColumnModes",
    get: function get() {
      return SUPPORTED_COLUMN_MODES;
    }
  }, {
    key: "layerInfoModal",
    get: function get() {
      return (0, _defineProperty2["default"])((0, _defineProperty2["default"])({}, _geojsonUtils.COLUMN_MODE_GEOJSON, {
        id: 'iconInfo',
        template: this._layerInfoModal[_geojsonUtils.COLUMN_MODE_GEOJSON],
        modalProps: {
          title: 'modal.polygonInfo.title'
        }
      }), COLUMN_MODE_TABLE, {
        id: 'iconInfo',
        template: this._layerInfoModal[COLUMN_MODE_TABLE],
        modalProps: {
          title: 'modal.polygonInfo.titleTable'
        }
      });
    }
  }, {
    key: "accessVSFieldValue",
    value: function accessVSFieldValue() {
      if (this.config.columnMode === _geojsonUtils.COLUMN_MODE_GEOJSON) {
        return _baseLayer.defaultGetFieldValue;
      }
      return getTableModeFieldValue;
    }
  }, {
    key: "visualChannels",
    get: function get() {
      var visualChannels = _superPropGet(GeoJsonLayer, "visualChannels", this, 1);
      return {
        color: _objectSpread(_objectSpread({}, visualChannels.color), {}, {
          accessor: 'getFillColor',
          condition: function condition(config) {
            return config.visConfig.filled;
          },
          nullValue: visualChannels.color.nullValue,
          getAttributeValue: function getAttributeValue(config) {
            return function (d) {
              return d.properties.fillColor || config.color;
            };
          },
          // used this to get updateTriggers
          defaultValue: function defaultValue(config) {
            return config.color;
          }
        }),
        strokeColor: {
          property: 'strokeColor',
          field: 'strokeColorField',
          scale: 'strokeColorScale',
          domain: 'strokeColorDomain',
          range: 'strokeColorRange',
          key: 'strokeColor',
          channelScaleType: _constants.CHANNEL_SCALES.color,
          accessor: 'getLineColor',
          condition: function condition(config) {
            return config.visConfig.stroked;
          },
          nullValue: visualChannels.color.nullValue,
          getAttributeValue: function getAttributeValue(config) {
            return function (d) {
              return d.properties.lineColor || config.visConfig.strokeColor || config.color;
            };
          },
          // used this to get updateTriggers
          defaultValue: function defaultValue(config) {
            return config.visConfig.strokeColor || config.color;
          }
        },
        size: _objectSpread(_objectSpread({}, visualChannels.size), {}, {
          property: 'stroke',
          accessor: 'getLineWidth',
          condition: function condition(config) {
            return config.visConfig.stroked;
          },
          nullValue: 0,
          getAttributeValue: function getAttributeValue() {
            return function (d) {
              return d.properties.lineWidth || defaultLineWidth;
            };
          }
        }),
        height: {
          property: 'height',
          field: 'heightField',
          scale: 'heightScale',
          domain: 'heightDomain',
          range: 'heightRange',
          key: 'height',
          fixed: 'fixedHeight',
          channelScaleType: _constants.CHANNEL_SCALES.size,
          accessor: 'getElevation',
          condition: function condition(config) {
            return config.visConfig.enable3d;
          },
          nullValue: 0,
          getAttributeValue: function getAttributeValue() {
            return function (d) {
              return d.properties.elevation || defaultElevation;
            };
          }
        },
        radius: {
          property: 'radius',
          field: 'radiusField',
          scale: 'radiusScale',
          domain: 'radiusDomain',
          range: 'radiusRange',
          key: 'radius',
          channelScaleType: _constants.CHANNEL_SCALES.radius,
          accessor: 'getPointRadius',
          nullValue: 0,
          getAttributeValue: function getAttributeValue() {
            return function (d) {
              return d.properties.radius || defaultRadius;
            };
          }
        }
      };
    }
  }, {
    key: "getDefaultLayerConfig",
    value: function getDefaultLayerConfig(props) {
      var _props$columnMode;
      var defaultLayerConfig = _superPropGet(GeoJsonLayer, "getDefaultLayerConfig", this, 3)([props !== null && props !== void 0 ? props : {}]);
      return _objectSpread(_objectSpread({}, defaultLayerConfig), {}, {
        columnMode: (_props$columnMode = props === null || props === void 0 ? void 0 : props.columnMode) !== null && _props$columnMode !== void 0 ? _props$columnMode : DEFAULT_COLUMN_MODE,
        // add height visual channel
        heightField: null,
        heightDomain: [0, 1],
        heightScale: 'linear',
        // add radius visual channel
        radiusField: null,
        radiusDomain: [0, 1],
        radiusScale: 'linear',
        // add stroke color visual channel
        strokeColorField: null,
        strokeColorDomain: [0, 1],
        strokeColorScale: 'quantile',
        colorUI: _objectSpread(_objectSpread({}, defaultLayerConfig.colorUI), {}, {
          strokeColorRange: _constants.DEFAULT_COLOR_UI
        })
      });
    }
  }, {
    key: "getHoverData",
    value: function getHoverData(object, dataContainer) {
      var _object$properties;
      // index of dataContainer is saved to feature.properties
      // for arrow format, `object` is the index of the row returned from deck
      var index = this.geoArrowMode ? object : object === null || object === void 0 || (_object$properties = object.properties) === null || _object$properties === void 0 ? void 0 : _object$properties.index;
      if (index >= 0) {
        return dataContainer.row(index);
      }
      return null;
    }
  }, {
    key: "getFilteredItemCount",
    value: function getFilteredItemCount() {
      // return -polygons-fill or -polygons-stroke
      // + -linestrings
      // + -points-circle
      if (Object.keys(this.filteredItemCount).length) {
        var polygonCount = this.filteredItemCount["".concat(this.id, "-polygons-fill")] || this.filteredItemCount["".concat(this.id, "-polygons-stroke")] || 0;
        var linestringCount = this.filteredItemCount["".concat(this.id, "-linestrings")] || 0;
        var pointCount = this.filteredItemCount["".concat(this.id, "-points-circle")] || 0;
        return polygonCount + linestringCount + pointCount;
      }
      return null;
    }
  }, {
    key: "calculateDataAttribute",
    value: function calculateDataAttribute(dataset) {
      var _this2 = this;
      this.geoArrowMode = (0, _geojsonUtils.fieldIsGeoArrow)(geoFieldAccessor(this.config.columns)(dataset.dataContainer));
      var dataContainer = dataset.dataContainer,
        filteredIndex = dataset.filteredIndex;
      if (this.geoArrowMode) {
        // TODO add columnMode logic here for ArrowDataContainer?
        // filter geojson/arrow table by values and make a partial copy of the raw table are expensive
        // so we will use filteredIndex to create an attribute e.g. filteredIndex [0|1] for GPU filtering
        // in deck.gl layer, see: FilterArrowExtension in @kepler.gl/deckgl-layers
        if (!this.filteredIndex || this.filteredIndex.length !== dataContainer.numRows()) {
          // for incremental data loading, we need to update filteredIndex
          this.filteredIndex = new Uint8ClampedArray(dataContainer.numRows());
          this.filteredIndex.fill(1);
        }

        // check if filteredIndex is a range from 0 to numRows if it is, we don't need to update it
        var isRange = filteredIndex && filteredIndex.length === dataContainer.numRows();
        if (!isRange || this.filteredIndexTrigger !== null) {
          this.filteredIndex.fill(0);
          for (var i = 0; i < filteredIndex.length; ++i) {
            this.filteredIndex[filteredIndex[i]] = 1;
          }
          this.filteredIndexTrigger = filteredIndex;
        }
        // for arrow, always return full dataToFeature instead of a filtered one, so there is no need to update attributes in GPU
        return this.dataToFeature;
      }

      // for geojson, this should work as well and more efficient. But we need to update some test cases e.g. #GeojsonLayer -> formatLayerData
      switch (this.config.columnMode) {
        case _geojsonUtils.COLUMN_MODE_GEOJSON:
          {
            return filteredIndex.map(function (i) {
              return _this2.dataToFeature[i];
            }).filter(function (d) {
              return d;
            });
          }
        case COLUMN_MODE_TABLE:
          return (0, _geojsonUtils.applyFiltersToTableColumns)(dataset, this.dataToFeature);
        default:
          return [];
      }
    }
  }, {
    key: "formatLayerData",
    value: function formatLayerData(datasets, oldLayerData) {
      var _this3 = this;
      if (this.config.dataId === null) {
        return {};
      }
      var _datasets$this$config = datasets[this.config.dataId],
        gpuFilter = _datasets$this$config.gpuFilter,
        dataContainer = _datasets$this$config.dataContainer;
      var _this$updateData = this.updateData(datasets, oldLayerData),
        data = _this$updateData.data;
      var filterValueAccessor;
      var dataAccessor;
      if (this.config.columnMode === _geojsonUtils.COLUMN_MODE_GEOJSON) {
        filterValueAccessor = function filterValueAccessor(dc, d, fieldIndex) {
          return dc.valueAt(d.properties.index, fieldIndex);
        };
        dataAccessor = function dataAccessor() {
          return function (d) {
            return {
              index: d.properties.index
            };
          };
        };
      } else {
        filterValueAccessor = getTableModeValueAccessor;
        dataAccessor = function dataAccessor() {
          return function (d) {
            return {
              index: d.properties.index
            };
          };
        };
      }
      var indexAccessor = function indexAccessor(f) {
        return f.properties.index;
      };
      var accessors = this.getAttributeAccessors({
        dataAccessor: dataAccessor,
        dataContainer: dataContainer
      });
      var isFilteredAccessor = function isFilteredAccessor(d) {
        return _this3.filteredIndex ? _this3.filteredIndex[d.properties.index] : 1;
      };
      return _objectSpread({
        data: data,
        getFilterValue: gpuFilter.filterValueAccessor(dataContainer)(indexAccessor, filterValueAccessor),
        getFiltered: isFilteredAccessor
      }, accessors);
    }
  }, {
    key: "isInPolygon",
    value: function isInPolygon(data, index, polygon) {
      var _polygon$properties, _polygon$properties2;
      if (this.centroids.length === 0 || !this.centroids[index]) {
        return false;
      }
      var isReactangleSearchBox = ((_polygon$properties = polygon.properties) === null || _polygon$properties === void 0 ? void 0 : _polygon$properties.shape) === 'Rectangle';
      var point = this.centroids[index];
      // if no valid centroid, return false
      if (!point) return false;
      // quick check if centroid is within the query rectangle
      if (isReactangleSearchBox && (_polygon$properties2 = polygon.properties) !== null && _polygon$properties2 !== void 0 && _polygon$properties2.bbox) {
        var _polygon$properties3;
        var _ref5 = (polygon === null || polygon === void 0 || (_polygon$properties3 = polygon.properties) === null || _polygon$properties3 === void 0 ? void 0 : _polygon$properties3.bbox) || [],
          _ref6 = (0, _slicedToArray2["default"])(_ref5, 4),
          minX = _ref6[0],
          minY = _ref6[1],
          maxX = _ref6[2],
          maxY = _ref6[3];
        return point[0] >= minX && point[0] <= maxX && point[1] >= minY && point[1] <= maxY;
      }
      // use turf.js to check if centroid is within query polygon
      return (0, _booleanWithin["default"])((0, _helpers.point)(point), polygon);
    }
  }, {
    key: "updateLayerMeta",
    value: function updateLayerMeta(dataset) {
      var dataContainer = dataset.dataContainer;
      this.dataContainer = dataContainer;
      this.geoArrowMode = (0, _geojsonUtils.fieldIsGeoArrow)(geoFieldAccessor(this.config.columns)(dataset.dataContainer));
      if (this.geoArrowMode && dataContainer instanceof _utils.ArrowDataContainer) {
        var geoColumn = geoColumnAccessor(this.config.columns)(dataContainer);
        var geoField = geoFieldAccessor(this.config.columns)(dataContainer);

        // update the latest batch/chunk of geoarrow data when loading data incrementally
        if (geoColumn && geoField && this.dataToFeature.length < dataContainer.numChunks()) {
          // for incrementally loading data, we only load and render the latest batch; otherwise, we will load and render all batches
          var isIncrementalLoad = dataContainer.numChunks() - this.dataToFeature.length === 1;
          // TODO: add support for COLUMN_MODE_TABLE in getGeojsonLayerMetaFromArrow
          var _getGeojsonLayerMetaF = (0, _layerUtils.getGeojsonLayerMetaFromArrow)(_objectSpread({
              dataContainer: dataContainer,
              geoColumn: geoColumn,
              geoField: geoField
            }, isIncrementalLoad ? {
              chunkIndex: this.dataToFeature.length
            } : null)),
            dataToFeature = _getGeojsonLayerMetaF.dataToFeature,
            bounds = _getGeojsonLayerMetaF.bounds,
            fixedRadius = _getGeojsonLayerMetaF.fixedRadius,
            featureTypes = _getGeojsonLayerMetaF.featureTypes,
            centroids = _getGeojsonLayerMetaF.centroids;
          if (centroids) this.centroids = this.centroids.concat(centroids);
          this.updateMeta({
            bounds: bounds,
            fixedRadius: fixedRadius,
            featureTypes: featureTypes
          });
          this.dataToFeature = [].concat((0, _toConsumableArray2["default"])(this.dataToFeature), (0, _toConsumableArray2["default"])(dataToFeature));
        }
      } else if (this.dataToFeature.length === 0 || this.config.columnMode === COLUMN_MODE_TABLE) {
        var getFeature = this.getPositionAccessor(dataContainer);
        var _getGeojsonLayerMeta = (0, _geojsonUtils.getGeojsonLayerMeta)({
            dataContainer: dataContainer,
            getFeature: getFeature,
            config: this.config
          }),
          _dataToFeature = _getGeojsonLayerMeta.dataToFeature,
          _bounds = _getGeojsonLayerMeta.bounds,
          _fixedRadius = _getGeojsonLayerMeta.fixedRadius,
          _featureTypes = _getGeojsonLayerMeta.featureTypes,
          _centroids = _getGeojsonLayerMeta.centroids;
        if (_centroids) this.centroids = _centroids;
        this.dataToFeature = _dataToFeature;
        this.updateMeta({
          bounds: _bounds,
          fixedRadius: _fixedRadius,
          featureTypes: _featureTypes
        });
      }
    }
  }, {
    key: "setInitialLayerConfig",
    value: function setInitialLayerConfig(dataset) {
      var dataContainer = dataset.dataContainer;
      if (!dataContainer.numRows()) {
        return this;
      }

      // defefaultLayerProps will automatically find geojson column
      // if not found, we try to set it to id / lat /lng /ts
      if (!this.config.columns.geojson.value) {
        // find columns from lat, lng, id, and ts
        var columnConfig = (0, _geojsonUtils.detectTableColumns)(dataset, this.config.columns, 'sortBy');
        if (columnConfig) {
          this.updateLayerConfig(_objectSpread(_objectSpread({}, columnConfig), {}, {
            columnMode: COLUMN_MODE_TABLE
          }));
        } else {
          return this;
        }
      }
      this.updateLayerMeta(dataset);
      var featureTypes = this.meta.featureTypes;
      // default settings is stroke: true, filled: false
      if (featureTypes && featureTypes.polygon) {
        // set both fill and stroke to true
        return this.updateLayerVisConfig({
          filled: true,
          stroked: true,
          strokeColor: _baseLayer.colorMaker.next().value
        });
      } else if (featureTypes && featureTypes.point) {
        // set fill to true if detect point
        return this.updateLayerVisConfig({
          filled: true,
          stroked: false
        });
      }
      return this;
    }
  }, {
    key: "isLayerHovered",
    value: function isLayerHovered(objectInfo) {
      return this.geoArrowMode ? (0, _layerUtils.isLayerHoveredFromArrow)(objectInfo, this.id) : _superPropGet(GeoJsonLayer, "isLayerHovered", this, 3)([objectInfo]);
    }
  }, {
    key: "hasHoveredObject",
    value: function hasHoveredObject(objectInfo) {
      return this.geoArrowMode ? (0, _layerUtils.getHoveredObjectFromArrow)(objectInfo, this.dataContainer, this.id, geoColumnAccessor(this.config.columns), geoFieldAccessor(this.config.columns)) : _superPropGet(GeoJsonLayer, "hasHoveredObject", this, 3)([objectInfo]);
    }
  }, {
    key: "getElevationZoomFactor",
    value: function getElevationZoomFactor(_ref7) {
      var zoom = _ref7.zoom,
        _ref7$zoomOffset = _ref7.zoomOffset,
        zoomOffset = _ref7$zoomOffset === void 0 ? 0 : _ref7$zoomOffset;
      return this.config.visConfig.fixedHeight ? 1 : Math.pow(2, Math.max(8 - zoom + zoomOffset, 0));
    }
  }, {
    key: "renderLayer",
    value: function renderLayer(opts) {
      var _this4 = this;
      var dataProps = opts.data,
        gpuFilter = opts.gpuFilter,
        objectHovered = opts.objectHovered,
        mapState = opts.mapState,
        interactionConfig = opts.interactionConfig;
      var _this$meta = this.meta,
        fixedRadius = _this$meta.fixedRadius,
        featureTypes = _this$meta.featureTypes;
      var radiusScale = this.getRadiusScaleByZoom(mapState, fixedRadius);
      var zoomFactor = this.getZoomFactor(mapState);
      var eleZoomFactor = this.getElevationZoomFactor(mapState);
      var visConfig = this.config.visConfig;
      var layerProps = {
        lineWidthScale: visConfig.thickness * zoomFactor * 8,
        elevationScale: visConfig.elevationScale * eleZoomFactor,
        pointRadiusScale: radiusScale,
        lineMiterLimit: 4
      };
      var updateTriggers = _objectSpread(_objectSpread({}, this.getVisualChannelUpdateTriggers()), {}, {
        getFilterValue: gpuFilter.filterValueUpdateTriggers,
        getFiltered: this.filteredIndexTrigger
      });
      var defaultLayerProps = this.getDefaultDeckLayerProps(opts);
      var opaOverwrite = {
        opacity: visConfig.strokeOpacity
      };
      var pickable = interactionConfig.tooltip.enabled;
      var hoveredObject = this.hasHoveredObject(objectHovered);
      var data = dataProps.data,
        props = (0, _objectWithoutProperties2["default"])(dataProps, _excluded);

      // arrow table can have multiple chunks, a deck.gl layer is created for each chunk
      var deckLayerData = this.geoArrowMode ? data : [data];
      var deckLayers = deckLayerData.map(function (d, i) {
        return new _layers.GeoJsonLayer(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, defaultLayerProps), layerProps), props), {}, {
          data: d,
          id: deckLayerData.length > 1 ? "".concat(_this4.id, "-").concat(i) : _this4.id,
          pickable: pickable,
          highlightColor: _constants.HIGHLIGH_COLOR_3D,
          autoHighlight: visConfig.enable3d && pickable,
          stroked: visConfig.stroked,
          filled: visConfig.filled,
          extruded: visConfig.enable3d,
          wireframe: visConfig.wireframe,
          wrapLongitude: false,
          lineMiterLimit: 2,
          capRounded: true,
          jointRounded: true,
          updateTriggers: updateTriggers,
          extensions: [].concat((0, _toConsumableArray2["default"])(defaultLayerProps.extensions), [new _deckglLayers.FilterArrowExtension()]),
          _subLayerProps: _objectSpread(_objectSpread(_objectSpread({}, featureTypes !== null && featureTypes !== void 0 && featureTypes.polygon ? {
            'polygons-stroke': opaOverwrite
          } : {}), featureTypes !== null && featureTypes !== void 0 && featureTypes.line ? {
            linestrings: opaOverwrite
          } : {}), featureTypes !== null && featureTypes !== void 0 && featureTypes.point ? {
            points: {
              lineOpacity: visConfig.strokeOpacity
            }
          } : {})
        }));
      });
      return [].concat((0, _toConsumableArray2["default"])(deckLayers), (0, _toConsumableArray2["default"])(hoveredObject && !visConfig.enable3d ? [new _layers.GeoJsonLayer(_objectSpread(_objectSpread(_objectSpread({}, this.getDefaultHoverLayerProps()), layerProps), {}, {
        visible: defaultLayerProps.visible,
        wrapLongitude: false,
        data: [hoveredObject],
        getLineWidth: props.getLineWidth,
        getPointRadius: props.getPointRadius,
        getElevation: props.getElevation,
        getLineColor: this.config.highlightColor,
        getFillColor: this.config.highlightColor,
        // always draw outline
        stroked: true,
        filled: false
      }))] : []));
    }
  }], [{
    key: "type",
    get: function get() {
      return 'geojson';
    }
  }, {
    key: "findDefaultLayerProps",
    value: function findDefaultLayerProps(_ref8) {
      var _this5 = this;
      var label = _ref8.label,
        _ref8$fields = _ref8.fields,
        fields = _ref8$fields === void 0 ? [] : _ref8$fields;
      var geojsonColumns = fields.filter(function (f) {
        return (f.type === 'geojson' || f.type === 'geoarrow') && f.analyzerType && SUPPORTED_ANALYZER_TYPES[f.analyzerType];
      }).map(function (f) {
        return f.name;
      });
      var defaultColumns = {
        geojson: (0, _lodash["default"])([].concat((0, _toConsumableArray2["default"])(_constants.GEOJSON_FIELDS.geojson), (0, _toConsumableArray2["default"])(geojsonColumns)))
      };
      var foundColumns = this.findDefaultColumnField(defaultColumns, fields);
      if (!foundColumns || !foundColumns.length) {
        return {
          props: []
        };
      }
      return {
        props: foundColumns.map(function (columns) {
          return {
            label: typeof label === 'string' && label.replace(/\.[^/.]+$/, '') || _this5.type,
            columns: columns,
            isVisible: true
          };
        })
      };
    }
  }]);
}(_baseLayer["default"]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaGVscGVycyIsInJlcXVpcmUiLCJfYm9vbGVhbldpdGhpbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfbG9kYXNoIiwiX3R5cGVBbmFseXplciIsIl9iYXNlTGF5ZXIiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9sYXllcnMiLCJfZ2VvanNvblV0aWxzIiwiX2xheWVyVXRpbHMiLCJfZ2VvanNvbkxheWVySWNvbiIsIl9jb25zdGFudHMiLCJfdXRpbHMiLCJfZGVja2dsTGF5ZXJzIiwiX2dlb2pzb25JbmZvTW9kYWwiLCJfZXhjbHVkZWQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJfY2FsbFN1cGVyIiwibyIsIl9nZXRQcm90b3R5cGVPZjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsImNvbnN0cnVjdG9yIiwiYXBwbHkiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsIl9zdXBlclByb3BHZXQiLCJwIiwiX2dldDIiLCJvd25LZXlzIiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImZpbHRlciIsImVudW1lcmFibGUiLCJwdXNoIiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJTVVBQT1JURURfQU5BTFlaRVJfVFlQRVMiLCJEQVRBX1RZUEVTIiwiR0VPTUVUUlkiLCJHRU9NRVRSWV9GUk9NX1NUUklORyIsIlBBSVJfR0VPTUVUUllfRlJPTV9TVFJJTkciLCJnZW9qc29uVmlzQ29uZmlncyIsImV4cG9ydHMiLCJvcGFjaXR5Iiwic3Ryb2tlT3BhY2l0eSIsIkxBWUVSX1ZJU19DT05GSUdTIiwicHJvcGVydHkiLCJ0aGlja25lc3MiLCJkZWZhdWx0VmFsdWUiLCJzdHJva2VDb2xvciIsImNvbG9yUmFuZ2UiLCJzdHJva2VDb2xvclJhbmdlIiwicmFkaXVzIiwic2l6ZVJhbmdlIiwicmFkaXVzUmFuZ2UiLCJoZWlnaHRSYW5nZSIsImVsZXZhdGlvblNjYWxlIiwic3Ryb2tlZCIsImZpbGxlZCIsImVuYWJsZTNkIiwid2lyZWZyYW1lIiwiZml4ZWRIZWlnaHQiLCJnZW9Kc29uUmVxdWlyZWRDb2x1bW5zIiwiZmVhdHVyZUFjY2Vzc29yIiwiX3JlZiIsImdlb2pzb24iLCJkYyIsImQiLCJ2YWx1ZUF0IiwiaW5kZXgiLCJmaWVsZElkeCIsImdlb0NvbHVtbkFjY2Vzc29yIiwiX3JlZjIiLCJfZGMkZ2V0Q29sdW1uIiwiZ2V0Q29sdW1uIiwiZ2V0VGFibGVNb2RlVmFsdWVBY2Nlc3NvciIsImZlYXR1cmUiLCJmaWVsZCIsInByb3BlcnRpZXMiLCJ2YWx1ZXMiLCJtYXAiLCJ2IiwidmFsdWVBY2Nlc3NvciIsImdldFRhYmxlTW9kZUZpZWxkVmFsdWUiLCJkYXRhIiwicnYiLCJkZWZhdWx0R2V0RmllbGRWYWx1ZSIsImdlb0ZpZWxkQWNjZXNzb3IiLCJfcmVmMyIsImdldEZpZWxkIiwiZGVmYXVsdEVsZXZhdGlvbiIsImRlZmF1bHRMaW5lV2lkdGgiLCJkZWZhdWx0UmFkaXVzIiwiQ09MVU1OX01PREVfVEFCTEUiLCJTVVBQT1JURURfQ09MVU1OX01PREVTIiwia2V5IiwiQ09MVU1OX01PREVfR0VPSlNPTiIsImxhYmVsIiwicmVxdWlyZWRDb2x1bW5zIiwib3B0aW9uYWxDb2x1bW5zIiwiREVGQVVMVF9DT0xVTU5fTU9ERSIsIkdlb0pzb25MYXllciIsIl9MYXllciIsInByb3BzIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwicmVnaXN0ZXJWaXNDb25maWciLCJnZXRQb3NpdGlvbkFjY2Vzc29yIiwiZGF0YUNvbnRhaW5lciIsImNvbmZpZyIsImNvbHVtbnMiLCJfbGF5ZXJJbmZvTW9kYWwiLCJHZW9qc29uSW5mb01vZGFsRmFjdG9yeSIsIl9pbmhlcml0czIiLCJfY3JlYXRlQ2xhc3MyIiwidHlwZSIsIkdlb2pzb25MYXllckljb24iLCJkZWZhdWx0UG9pbnRDb2x1bW5QYWlycyIsImlkIiwidGVtcGxhdGUiLCJtb2RhbFByb3BzIiwidGl0bGUiLCJ2YWx1ZSIsImFjY2Vzc1ZTRmllbGRWYWx1ZSIsImNvbHVtbk1vZGUiLCJ2aXN1YWxDaGFubmVscyIsImNvbG9yIiwiYWNjZXNzb3IiLCJjb25kaXRpb24iLCJ2aXNDb25maWciLCJudWxsVmFsdWUiLCJnZXRBdHRyaWJ1dGVWYWx1ZSIsImZpbGxDb2xvciIsInNjYWxlIiwiZG9tYWluIiwicmFuZ2UiLCJjaGFubmVsU2NhbGVUeXBlIiwiQ0hBTk5FTF9TQ0FMRVMiLCJsaW5lQ29sb3IiLCJzaXplIiwibGluZVdpZHRoIiwiaGVpZ2h0IiwiZml4ZWQiLCJlbGV2YXRpb24iLCJnZXREZWZhdWx0TGF5ZXJDb25maWciLCJfcHJvcHMkY29sdW1uTW9kZSIsImRlZmF1bHRMYXllckNvbmZpZyIsImhlaWdodEZpZWxkIiwiaGVpZ2h0RG9tYWluIiwiaGVpZ2h0U2NhbGUiLCJyYWRpdXNGaWVsZCIsInJhZGl1c0RvbWFpbiIsInJhZGl1c1NjYWxlIiwic3Ryb2tlQ29sb3JGaWVsZCIsInN0cm9rZUNvbG9yRG9tYWluIiwic3Ryb2tlQ29sb3JTY2FsZSIsImNvbG9yVUkiLCJERUZBVUxUX0NPTE9SX1VJIiwiZ2V0SG92ZXJEYXRhIiwib2JqZWN0IiwiX29iamVjdCRwcm9wZXJ0aWVzIiwiZ2VvQXJyb3dNb2RlIiwicm93IiwiZ2V0RmlsdGVyZWRJdGVtQ291bnQiLCJmaWx0ZXJlZEl0ZW1Db3VudCIsInBvbHlnb25Db3VudCIsImNvbmNhdCIsImxpbmVzdHJpbmdDb3VudCIsInBvaW50Q291bnQiLCJjYWxjdWxhdGVEYXRhQXR0cmlidXRlIiwiZGF0YXNldCIsIl90aGlzMiIsImZpZWxkSXNHZW9BcnJvdyIsImZpbHRlcmVkSW5kZXgiLCJudW1Sb3dzIiwiVWludDhDbGFtcGVkQXJyYXkiLCJmaWxsIiwiaXNSYW5nZSIsImZpbHRlcmVkSW5kZXhUcmlnZ2VyIiwiZGF0YVRvRmVhdHVyZSIsImFwcGx5RmlsdGVyc1RvVGFibGVDb2x1bW5zIiwiZm9ybWF0TGF5ZXJEYXRhIiwiZGF0YXNldHMiLCJvbGRMYXllckRhdGEiLCJfdGhpczMiLCJkYXRhSWQiLCJfZGF0YXNldHMkdGhpcyRjb25maWciLCJncHVGaWx0ZXIiLCJfdGhpcyR1cGRhdGVEYXRhIiwidXBkYXRlRGF0YSIsImZpbHRlclZhbHVlQWNjZXNzb3IiLCJkYXRhQWNjZXNzb3IiLCJmaWVsZEluZGV4IiwiaW5kZXhBY2Nlc3NvciIsImYiLCJhY2Nlc3NvcnMiLCJnZXRBdHRyaWJ1dGVBY2Nlc3NvcnMiLCJpc0ZpbHRlcmVkQWNjZXNzb3IiLCJnZXRGaWx0ZXJWYWx1ZSIsImdldEZpbHRlcmVkIiwiaXNJblBvbHlnb24iLCJwb2x5Z29uIiwiX3BvbHlnb24kcHJvcGVydGllcyIsIl9wb2x5Z29uJHByb3BlcnRpZXMyIiwiY2VudHJvaWRzIiwiaXNSZWFjdGFuZ2xlU2VhcmNoQm94Iiwic2hhcGUiLCJwb2ludCIsImJib3giLCJfcG9seWdvbiRwcm9wZXJ0aWVzMyIsIl9yZWY1IiwiX3JlZjYiLCJfc2xpY2VkVG9BcnJheTIiLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwiYm9vbGVhbldpdGhpbiIsInR1cmZQb2ludCIsInVwZGF0ZUxheWVyTWV0YSIsIkFycm93RGF0YUNvbnRhaW5lciIsImdlb0NvbHVtbiIsImdlb0ZpZWxkIiwibnVtQ2h1bmtzIiwiaXNJbmNyZW1lbnRhbExvYWQiLCJfZ2V0R2VvanNvbkxheWVyTWV0YUYiLCJnZXRHZW9qc29uTGF5ZXJNZXRhRnJvbUFycm93IiwiY2h1bmtJbmRleCIsImJvdW5kcyIsImZpeGVkUmFkaXVzIiwiZmVhdHVyZVR5cGVzIiwidXBkYXRlTWV0YSIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJnZXRGZWF0dXJlIiwiX2dldEdlb2pzb25MYXllck1ldGEiLCJnZXRHZW9qc29uTGF5ZXJNZXRhIiwic2V0SW5pdGlhbExheWVyQ29uZmlnIiwiY29sdW1uQ29uZmlnIiwiZGV0ZWN0VGFibGVDb2x1bW5zIiwidXBkYXRlTGF5ZXJDb25maWciLCJtZXRhIiwidXBkYXRlTGF5ZXJWaXNDb25maWciLCJjb2xvck1ha2VyIiwibmV4dCIsImlzTGF5ZXJIb3ZlcmVkIiwib2JqZWN0SW5mbyIsImlzTGF5ZXJIb3ZlcmVkRnJvbUFycm93IiwiaGFzSG92ZXJlZE9iamVjdCIsImdldEhvdmVyZWRPYmplY3RGcm9tQXJyb3ciLCJnZXRFbGV2YXRpb25ab29tRmFjdG9yIiwiX3JlZjciLCJ6b29tIiwiX3JlZjckem9vbU9mZnNldCIsInpvb21PZmZzZXQiLCJNYXRoIiwicG93IiwibWF4IiwicmVuZGVyTGF5ZXIiLCJvcHRzIiwiX3RoaXM0IiwiZGF0YVByb3BzIiwib2JqZWN0SG92ZXJlZCIsIm1hcFN0YXRlIiwiaW50ZXJhY3Rpb25Db25maWciLCJfdGhpcyRtZXRhIiwiZ2V0UmFkaXVzU2NhbGVCeVpvb20iLCJ6b29tRmFjdG9yIiwiZ2V0Wm9vbUZhY3RvciIsImVsZVpvb21GYWN0b3IiLCJsYXllclByb3BzIiwibGluZVdpZHRoU2NhbGUiLCJwb2ludFJhZGl1c1NjYWxlIiwibGluZU1pdGVyTGltaXQiLCJ1cGRhdGVUcmlnZ2VycyIsImdldFZpc3VhbENoYW5uZWxVcGRhdGVUcmlnZ2VycyIsImZpbHRlclZhbHVlVXBkYXRlVHJpZ2dlcnMiLCJkZWZhdWx0TGF5ZXJQcm9wcyIsImdldERlZmF1bHREZWNrTGF5ZXJQcm9wcyIsIm9wYU92ZXJ3cml0ZSIsInBpY2thYmxlIiwidG9vbHRpcCIsImVuYWJsZWQiLCJob3ZlcmVkT2JqZWN0IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsImRlY2tMYXllckRhdGEiLCJkZWNrTGF5ZXJzIiwiRGVja0dMR2VvSnNvbkxheWVyIiwiaGlnaGxpZ2h0Q29sb3IiLCJISUdITElHSF9DT0xPUl8zRCIsImF1dG9IaWdobGlnaHQiLCJleHRydWRlZCIsIndyYXBMb25naXR1ZGUiLCJjYXBSb3VuZGVkIiwiam9pbnRSb3VuZGVkIiwiZXh0ZW5zaW9ucyIsIkZpbHRlckFycm93RXh0ZW5zaW9uIiwiX3N1YkxheWVyUHJvcHMiLCJsaW5lIiwibGluZXN0cmluZ3MiLCJwb2ludHMiLCJsaW5lT3BhY2l0eSIsImdldERlZmF1bHRIb3ZlckxheWVyUHJvcHMiLCJ2aXNpYmxlIiwiZ2V0TGluZVdpZHRoIiwiZ2V0UG9pbnRSYWRpdXMiLCJnZXRFbGV2YXRpb24iLCJnZXRMaW5lQ29sb3IiLCJnZXRGaWxsQ29sb3IiLCJmaW5kRGVmYXVsdExheWVyUHJvcHMiLCJfcmVmOCIsIl90aGlzNSIsIl9yZWY4JGZpZWxkcyIsImZpZWxkcyIsImdlb2pzb25Db2x1bW5zIiwiYW5hbHl6ZXJUeXBlIiwibmFtZSIsImRlZmF1bHRDb2x1bW5zIiwidW5pcSIsIkdFT0pTT05fRklFTERTIiwiZm91bmRDb2x1bW5zIiwiZmluZERlZmF1bHRDb2x1bW5GaWVsZCIsInJlcGxhY2UiLCJpc1Zpc2libGUiLCJMYXllciJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9nZW9qc29uLWxheWVyL2dlb2pzb24tbGF5ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuLy8gQ29weXJpZ2h0IGNvbnRyaWJ1dG9ycyB0byB0aGUga2VwbGVyLmdsIHByb2plY3RcblxuaW1wb3J0ICogYXMgYXJyb3cgZnJvbSAnYXBhY2hlLWFycm93JztcbmltcG9ydCB7cG9pbnQgYXMgdHVyZlBvaW50fSBmcm9tICdAdHVyZi9oZWxwZXJzJztcbmltcG9ydCBib29sZWFuV2l0aGluIGZyb20gJ0B0dXJmL2Jvb2xlYW4td2l0aGluJztcbmltcG9ydCB7RmVhdHVyZSwgUG9seWdvbn0gZnJvbSAnZ2VvanNvbic7XG5pbXBvcnQgdW5pcSBmcm9tICdsb2Rhc2gudW5pcSc7XG5pbXBvcnQge0RBVEFfVFlQRVN9IGZyb20gJ3R5cGUtYW5hbHl6ZXInO1xuaW1wb3J0IExheWVyLCB7XG4gIGNvbG9yTWFrZXIsXG4gIGRlZmF1bHRHZXRGaWVsZFZhbHVlLFxuICBMYXllckJhc2VDb25maWcsXG4gIExheWVyQmFzZUNvbmZpZ1BhcnRpYWwsXG4gIExheWVyQ29sb3JDb25maWcsXG4gIExheWVySGVpZ2h0Q29uZmlnLFxuICBMYXllclJhZGl1c0NvbmZpZyxcbiAgTGF5ZXJTaXplQ29uZmlnLFxuICBMYXllclN0cm9rZUNvbG9yQ29uZmlnXG59IGZyb20gJy4uL2Jhc2UtbGF5ZXInO1xuaW1wb3J0IHtHZW9Kc29uTGF5ZXIgYXMgRGVja0dMR2VvSnNvbkxheWVyfSBmcm9tICdAZGVjay5nbC9sYXllcnMnO1xuaW1wb3J0IHtcbiAgZ2V0R2VvanNvbkxheWVyTWV0YSxcbiAgR2VvanNvbkRhdGFNYXBzLFxuICBEZWNrR2xHZW9UeXBlcyxcbiAgZGV0ZWN0VGFibGVDb2x1bW5zLFxuICBDT0xVTU5fTU9ERV9HRU9KU09OLFxuICBhcHBseUZpbHRlcnNUb1RhYmxlQ29sdW1ucyxcbiAgZmllbGRJc0dlb0Fycm93XG59IGZyb20gJy4vZ2VvanNvbi11dGlscyc7XG5pbXBvcnQge1xuICBnZXRHZW9qc29uTGF5ZXJNZXRhRnJvbUFycm93LFxuICBpc0xheWVySG92ZXJlZEZyb21BcnJvdyxcbiAgZ2V0SG92ZXJlZE9iamVjdEZyb21BcnJvd1xufSBmcm9tICcuLi9sYXllci11dGlscyc7XG5pbXBvcnQgR2VvanNvbkxheWVySWNvbiBmcm9tICcuL2dlb2pzb24tbGF5ZXItaWNvbic7XG5pbXBvcnQge1xuICBHRU9KU09OX0ZJRUxEUyxcbiAgSElHSExJR0hfQ09MT1JfM0QsXG4gIENIQU5ORUxfU0NBTEVTLFxuICBMQVlFUl9WSVNfQ09ORklHUyxcbiAgREVGQVVMVF9DT0xPUl9VSVxufSBmcm9tICdAa2VwbGVyLmdsL2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICBDb2xvclJhbmdlLFxuICBWaXNDb25maWdOdW1iZXIsXG4gIFZpc0NvbmZpZ0NvbG9yU2VsZWN0LFxuICBWaXNDb25maWdDb2xvclJhbmdlLFxuICBWaXNDb25maWdSYW5nZSxcbiAgVmlzQ29uZmlnQm9vbGVhbixcbiAgTWVyZ2UsXG4gIFJHQkNvbG9yLFxuICBQcm90b0RhdGFzZXRGaWVsZCxcbiAgTGF5ZXJDb2x1bW5cbn0gZnJvbSAnQGtlcGxlci5nbC90eXBlcyc7XG5pbXBvcnQge0tlcGxlclRhYmxlfSBmcm9tICdAa2VwbGVyLmdsL3RhYmxlJztcbmltcG9ydCB7RGF0YUNvbnRhaW5lckludGVyZmFjZSwgQXJyb3dEYXRhQ29udGFpbmVyfSBmcm9tICdAa2VwbGVyLmdsL3V0aWxzJztcbmltcG9ydCB7RmlsdGVyQXJyb3dFeHRlbnNpb259IGZyb20gJ0BrZXBsZXIuZ2wvZGVja2dsLWxheWVycyc7XG5pbXBvcnQgR2VvanNvbkluZm9Nb2RhbEZhY3RvcnkgZnJvbSAnLi9nZW9qc29uLWluZm8tbW9kYWwnO1xuXG5jb25zdCBTVVBQT1JURURfQU5BTFlaRVJfVFlQRVMgPSB7XG4gIFtEQVRBX1RZUEVTLkdFT01FVFJZXTogdHJ1ZSxcbiAgW0RBVEFfVFlQRVMuR0VPTUVUUllfRlJPTV9TVFJJTkddOiB0cnVlLFxuICBbREFUQV9UWVBFUy5QQUlSX0dFT01FVFJZX0ZST01fU1RSSU5HXTogdHJ1ZVxufTtcblxuZXhwb3J0IGNvbnN0IGdlb2pzb25WaXNDb25maWdzOiB7XG4gIG9wYWNpdHk6ICdvcGFjaXR5JztcbiAgc3Ryb2tlT3BhY2l0eTogVmlzQ29uZmlnTnVtYmVyO1xuICB0aGlja25lc3M6IFZpc0NvbmZpZ051bWJlcjtcbiAgc3Ryb2tlQ29sb3I6ICdzdHJva2VDb2xvcic7XG4gIGNvbG9yUmFuZ2U6ICdjb2xvclJhbmdlJztcbiAgc3Ryb2tlQ29sb3JSYW5nZTogJ3N0cm9rZUNvbG9yUmFuZ2UnO1xuICByYWRpdXM6ICdyYWRpdXMnO1xuXG4gIHNpemVSYW5nZTogJ3N0cm9rZVdpZHRoUmFuZ2UnO1xuICByYWRpdXNSYW5nZTogJ3JhZGl1c1JhbmdlJztcbiAgaGVpZ2h0UmFuZ2U6ICdlbGV2YXRpb25SYW5nZSc7XG4gIGVsZXZhdGlvblNjYWxlOiAnZWxldmF0aW9uU2NhbGUnO1xuICBzdHJva2VkOiAnc3Ryb2tlZCc7XG4gIGZpbGxlZDogJ2ZpbGxlZCc7XG4gIGVuYWJsZTNkOiAnZW5hYmxlM2QnO1xuICB3aXJlZnJhbWU6ICd3aXJlZnJhbWUnO1xuICBmaXhlZEhlaWdodDogJ2ZpeGVkSGVpZ2h0Jztcbn0gPSB7XG4gIG9wYWNpdHk6ICdvcGFjaXR5JyxcbiAgc3Ryb2tlT3BhY2l0eToge1xuICAgIC4uLkxBWUVSX1ZJU19DT05GSUdTLm9wYWNpdHksXG4gICAgcHJvcGVydHk6ICdzdHJva2VPcGFjaXR5J1xuICB9LFxuICB0aGlja25lc3M6IHtcbiAgICAuLi5MQVlFUl9WSVNfQ09ORklHUy50aGlja25lc3MsXG4gICAgZGVmYXVsdFZhbHVlOiAwLjVcbiAgfSxcbiAgc3Ryb2tlQ29sb3I6ICdzdHJva2VDb2xvcicsXG4gIGNvbG9yUmFuZ2U6ICdjb2xvclJhbmdlJyxcbiAgc3Ryb2tlQ29sb3JSYW5nZTogJ3N0cm9rZUNvbG9yUmFuZ2UnLFxuICByYWRpdXM6ICdyYWRpdXMnLFxuXG4gIHNpemVSYW5nZTogJ3N0cm9rZVdpZHRoUmFuZ2UnLFxuICByYWRpdXNSYW5nZTogJ3JhZGl1c1JhbmdlJyxcbiAgaGVpZ2h0UmFuZ2U6ICdlbGV2YXRpb25SYW5nZScsXG4gIGVsZXZhdGlvblNjYWxlOiAnZWxldmF0aW9uU2NhbGUnLFxuICBzdHJva2VkOiAnc3Ryb2tlZCcsXG4gIGZpbGxlZDogJ2ZpbGxlZCcsXG4gIGVuYWJsZTNkOiAnZW5hYmxlM2QnLFxuICB3aXJlZnJhbWU6ICd3aXJlZnJhbWUnLFxuICBmaXhlZEhlaWdodDogJ2ZpeGVkSGVpZ2h0J1xufTtcblxuZXhwb3J0IHR5cGUgR2VvSnNvblZpc0NvbmZpZ1NldHRpbmdzID0ge1xuICBvcGFjaXR5OiBWaXNDb25maWdOdW1iZXI7XG4gIHN0cm9rZU9wYWNpdHk6IFZpc0NvbmZpZ051bWJlcjtcbiAgdGhpY2tuZXNzOiBWaXNDb25maWdOdW1iZXI7XG4gIHN0cm9rZUNvbG9yOiBWaXNDb25maWdDb2xvclNlbGVjdDtcbiAgY29sb3JSYW5nZTogVmlzQ29uZmlnQ29sb3JSYW5nZTtcbiAgc3Ryb2tlQ29sb3JSYW5nZTogVmlzQ29uZmlnQ29sb3JSYW5nZTtcbiAgcmFkaXVzOiBWaXNDb25maWdOdW1iZXI7XG5cbiAgc2l6ZVJhbmdlOiBWaXNDb25maWdSYW5nZTtcbiAgcmFkaXVzUmFuZ2U6IFZpc0NvbmZpZ1JhbmdlO1xuICBoZWlnaHRSYW5nZTogVmlzQ29uZmlnUmFuZ2U7XG4gIGVsZXZhdGlvblNjYWxlOiBWaXNDb25maWdOdW1iZXI7XG4gIGZpeGVkSGVpZ2h0OiBWaXNDb25maWdCb29sZWFuO1xuICBzdHJva2VkOiBWaXNDb25maWdCb29sZWFuO1xuICBmaWxsZWQ6IFZpc0NvbmZpZ0Jvb2xlYW47XG4gIGVuYWJsZTNkOiBWaXNDb25maWdCb29sZWFuO1xuICB3aXJlZnJhbWU6IFZpc0NvbmZpZ0Jvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBHZW9Kc29uTGF5ZXJDb2x1bW5zQ29uZmlnID0ge1xuICBnZW9qc29uOiBMYXllckNvbHVtbjtcbn07XG5cbmV4cG9ydCB0eXBlIEdlb0pzb25MYXllclZpc0NvbmZpZyA9IHtcbiAgb3BhY2l0eTogbnVtYmVyO1xuICBzdHJva2VPcGFjaXR5OiBudW1iZXI7XG4gIHRoaWNrbmVzczogbnVtYmVyO1xuICBzdHJva2VDb2xvcjogUkdCQ29sb3I7XG4gIGNvbG9yUmFuZ2U6IENvbG9yUmFuZ2U7XG4gIHN0cm9rZUNvbG9yUmFuZ2U6IENvbG9yUmFuZ2U7XG4gIHJhZGl1czogbnVtYmVyO1xuXG4gIHNpemVSYW5nZTogW251bWJlciwgbnVtYmVyXTtcbiAgcmFkaXVzUmFuZ2U6IFtudW1iZXIsIG51bWJlcl07XG4gIGhlaWdodFJhbmdlOiBbbnVtYmVyLCBudW1iZXJdO1xuICBlbGV2YXRpb25TY2FsZTogbnVtYmVyO1xuICBzdHJva2VkOiBib29sZWFuO1xuICBmaWxsZWQ6IGJvb2xlYW47XG4gIGVuYWJsZTNkOiBib29sZWFuO1xuICB3aXJlZnJhbWU6IGJvb2xlYW47XG4gIGZpeGVkSGVpZ2h0OiBib29sZWFuO1xufTtcblxudHlwZSBHZW9Kc29uTGF5ZXJWaXN1YWxDaGFubmVsQ29uZmlnID0gTGF5ZXJDb2xvckNvbmZpZyAmXG4gIExheWVyU3Ryb2tlQ29sb3JDb25maWcgJlxuICBMYXllclNpemVDb25maWcgJlxuICBMYXllckhlaWdodENvbmZpZyAmXG4gIExheWVyUmFkaXVzQ29uZmlnO1xuZXhwb3J0IHR5cGUgR2VvSnNvbkxheWVyQ29uZmlnID0gTWVyZ2U8XG4gIExheWVyQmFzZUNvbmZpZyxcbiAge2NvbHVtbnM6IEdlb0pzb25MYXllckNvbHVtbnNDb25maWc7IHZpc0NvbmZpZzogR2VvSnNvbkxheWVyVmlzQ29uZmlnfVxuPiAmXG4gIEdlb0pzb25MYXllclZpc3VhbENoYW5uZWxDb25maWc7XG5cbmV4cG9ydCB0eXBlIEdlb0pzb25MYXllck1ldGEgPSB7XG4gIGZlYXR1cmVUeXBlcz86IERlY2tHbEdlb1R5cGVzO1xuICBmaXhlZFJhZGl1cz86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgY29uc3QgZ2VvSnNvblJlcXVpcmVkQ29sdW1uczogWydnZW9qc29uJ10gPSBbJ2dlb2pzb24nXTtcblxudHlwZSBPYmplY3RJbmZvID0ge1xuICBpbmRleDogbnVtYmVyO1xuICBvYmplY3Q/OiBGZWF0dXJlIHwgdW5kZWZpbmVkO1xuICBwaWNrZWQ6IGJvb2xlYW47XG4gIGxheWVyOiBMYXllcjtcbiAgcmFkaXVzPzogbnVtYmVyO1xuICBpZD86IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBmZWF0dXJlQWNjZXNzb3IgPVxuICAoe2dlb2pzb259OiBHZW9Kc29uTGF5ZXJDb2x1bW5zQ29uZmlnKSA9PlxuICAoZGM6IERhdGFDb250YWluZXJJbnRlcmZhY2UpID0+XG4gIGQgPT5cbiAgICBkYy52YWx1ZUF0KGQuaW5kZXgsIGdlb2pzb24uZmllbGRJZHgpO1xuXG5jb25zdCBnZW9Db2x1bW5BY2Nlc3NvciA9XG4gICh7Z2VvanNvbn06IEdlb0pzb25MYXllckNvbHVtbnNDb25maWcpID0+XG4gIChkYzogRGF0YUNvbnRhaW5lckludGVyZmFjZSk6IGFycm93LlZlY3RvciB8IG51bGwgPT5cbiAgICBkYy5nZXRDb2x1bW4/LihnZW9qc29uLmZpZWxkSWR4KSBhcyBhcnJvdy5WZWN0b3I7XG5cbmNvbnN0IGdldFRhYmxlTW9kZVZhbHVlQWNjZXNzb3IgPSBmZWF0dXJlID0+IHtcbiAgLy8gQ2FsbGVkIGZyb20gZ3B1LWZpbHRlci11dGlscy5nZXRGaWx0ZXJWYWx1ZUFjY2Vzc29yKClcbiAgcmV0dXJuIGZpZWxkID0+IGZlYXR1cmUucHJvcGVydGllcy52YWx1ZXMubWFwKHYgPT4gZmllbGQudmFsdWVBY2Nlc3Nvcih2KSk7XG59O1xuXG5jb25zdCBnZXRUYWJsZU1vZGVGaWVsZFZhbHVlID0gKGZpZWxkLCBkYXRhKSA9PiB7XG4gIGxldCBydjtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcnYgPSBkYXRhKGZpZWxkKTtcbiAgfSBlbHNlIHtcbiAgICBydiA9IGRlZmF1bHRHZXRGaWVsZFZhbHVlKGZpZWxkLCBkYXRhKTtcbiAgfVxuICByZXR1cm4gcnY7XG59O1xuXG5jb25zdCBnZW9GaWVsZEFjY2Vzc29yID1cbiAgKHtnZW9qc29ufTogR2VvSnNvbkxheWVyQ29sdW1uc0NvbmZpZykgPT5cbiAgKGRjOiBEYXRhQ29udGFpbmVySW50ZXJmYWNlKTogUHJvdG9EYXRhc2V0RmllbGQgfCBudWxsID0+XG4gICAgZGMuZ2V0RmllbGQgPyBkYy5nZXRGaWVsZChnZW9qc29uLmZpZWxkSWR4KSA6IG51bGw7XG5cbi8vIGFjY2VzcyBmZWF0dXJlIHByb3BlcnRpZXMgZnJvbSBnZW9qc29uIHN1YiBsYXllclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRFbGV2YXRpb24gPSA1MDA7XG5leHBvcnQgY29uc3QgZGVmYXVsdExpbmVXaWR0aCA9IDE7XG5leHBvcnQgY29uc3QgZGVmYXVsdFJhZGl1cyA9IDE7XG5cbmV4cG9ydCBjb25zdCBDT0xVTU5fTU9ERV9UQUJMRSA9ICd0YWJsZSc7XG5jb25zdCBTVVBQT1JURURfQ09MVU1OX01PREVTID0gW1xuICB7XG4gICAga2V5OiBDT0xVTU5fTU9ERV9HRU9KU09OLFxuICAgIGxhYmVsOiAnR2VvSlNPTicsXG4gICAgcmVxdWlyZWRDb2x1bW5zOiBbJ2dlb2pzb24nXVxuICB9LFxuICB7XG4gICAga2V5OiBDT0xVTU5fTU9ERV9UQUJMRSxcbiAgICBsYWJlbDogJ1RhYmxlIGNvbHVtbnMnLFxuICAgIHJlcXVpcmVkQ29sdW1uczogWydpZCcsICdsYXQnLCAnbG5nJ10sXG4gICAgb3B0aW9uYWxDb2x1bW5zOiBbJ2FsdGl0dWRlJywgJ3NvcnRCeSddXG4gIH1cbl07XG5jb25zdCBERUZBVUxUX0NPTFVNTl9NT0RFID0gQ09MVU1OX01PREVfR0VPSlNPTjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VvSnNvbkxheWVyIGV4dGVuZHMgTGF5ZXIge1xuICBkZWNsYXJlIGNvbmZpZzogR2VvSnNvbkxheWVyQ29uZmlnO1xuICBkZWNsYXJlIHZpc0NvbmZpZ1NldHRpbmdzOiBHZW9Kc29uVmlzQ29uZmlnU2V0dGluZ3M7XG4gIGRlY2xhcmUgbWV0YTogR2VvSnNvbkxheWVyTWV0YTtcbiAgZGVjbGFyZSBnZW9BcnJvd01vZGU6IGJvb2xlYW47XG5cbiAgZGF0YVRvRmVhdHVyZTogR2VvanNvbkRhdGFNYXBzID0gW107XG4gIGRhdGFDb250YWluZXI6IERhdGFDb250YWluZXJJbnRlcmZhY2UgfCBudWxsID0gbnVsbDtcbiAgZmlsdGVyZWRJbmRleDogVWludDhDbGFtcGVkQXJyYXkgfCBudWxsID0gbnVsbDtcbiAgZmlsdGVyZWRJbmRleFRyaWdnZXI6IG51bWJlcltdIHwgbnVsbCA9IG51bGw7XG4gIGNlbnRyb2lkczogQXJyYXk8bnVtYmVyW10gfCBudWxsPiA9IFtdO1xuXG4gIF9sYXllckluZm9Nb2RhbDoge1xuICAgIFtDT0xVTU5fTU9ERV9UQUJMRV06ICgpID0+IFJlYWN0LkpTWC5FbGVtZW50O1xuICAgIFtDT0xVTU5fTU9ERV9HRU9KU09OXTogKCkgPT4gUmVhY3QuSlNYLkVsZW1lbnQ7XG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnJlZ2lzdGVyVmlzQ29uZmlnKGdlb2pzb25WaXNDb25maWdzKTtcbiAgICB0aGlzLmdldFBvc2l0aW9uQWNjZXNzb3IgPSAoZGF0YUNvbnRhaW5lcjogRGF0YUNvbnRhaW5lckludGVyZmFjZSkgPT5cbiAgICAgIGZlYXR1cmVBY2Nlc3Nvcih0aGlzLmNvbmZpZy5jb2x1bW5zKShkYXRhQ29udGFpbmVyKTtcbiAgICB0aGlzLl9sYXllckluZm9Nb2RhbCA9IHtcbiAgICAgIFtDT0xVTU5fTU9ERV9UQUJMRV06IEdlb2pzb25JbmZvTW9kYWxGYWN0b3J5KENPTFVNTl9NT0RFX1RBQkxFKSxcbiAgICAgIFtDT0xVTU5fTU9ERV9HRU9KU09OXTogR2VvanNvbkluZm9Nb2RhbEZhY3RvcnkoQ09MVU1OX01PREVfR0VPSlNPTilcbiAgICB9O1xuICB9XG5cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIEdlb0pzb25MYXllci50eXBlO1xuICB9XG4gIHN0YXRpYyBnZXQgdHlwZSgpOiAnZ2VvanNvbicge1xuICAgIHJldHVybiAnZ2VvanNvbic7XG4gIH1cblxuICBnZXQgbmFtZSgpOiAnUG9seWdvbicge1xuICAgIHJldHVybiAnUG9seWdvbic7XG4gIH1cblxuICBnZXQgbGF5ZXJJY29uKCkge1xuICAgIHJldHVybiBHZW9qc29uTGF5ZXJJY29uO1xuICB9XG5cbiAgZ2V0IGNvbHVtblBhaXJzKCkge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHRQb2ludENvbHVtblBhaXJzO1xuICB9XG5cbiAgZ2V0IHN1cHBvcnRlZENvbHVtbk1vZGVzKCkge1xuICAgIHJldHVybiBTVVBQT1JURURfQ09MVU1OX01PREVTO1xuICB9XG5cbiAgZ2V0IGxheWVySW5mb01vZGFsKCkge1xuICAgIHJldHVybiB7XG4gICAgICBbQ09MVU1OX01PREVfR0VPSlNPTl06IHtcbiAgICAgICAgaWQ6ICdpY29uSW5mbycsXG4gICAgICAgIHRlbXBsYXRlOiB0aGlzLl9sYXllckluZm9Nb2RhbFtDT0xVTU5fTU9ERV9HRU9KU09OXSxcbiAgICAgICAgbW9kYWxQcm9wczoge1xuICAgICAgICAgIHRpdGxlOiAnbW9kYWwucG9seWdvbkluZm8udGl0bGUnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbQ09MVU1OX01PREVfVEFCTEVdOiB7XG4gICAgICAgIGlkOiAnaWNvbkluZm8nLFxuICAgICAgICB0ZW1wbGF0ZTogdGhpcy5fbGF5ZXJJbmZvTW9kYWxbQ09MVU1OX01PREVfVEFCTEVdLFxuICAgICAgICBtb2RhbFByb3BzOiB7XG4gICAgICAgICAgdGl0bGU6ICdtb2RhbC5wb2x5Z29uSW5mby50aXRsZVRhYmxlJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGFjY2Vzc1ZTRmllbGRWYWx1ZSgpIHtcbiAgICBpZiAodGhpcy5jb25maWcuY29sdW1uTW9kZSA9PT0gQ09MVU1OX01PREVfR0VPSlNPTikge1xuICAgICAgcmV0dXJuIGRlZmF1bHRHZXRGaWVsZFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0VGFibGVNb2RlRmllbGRWYWx1ZTtcbiAgfVxuXG4gIGdldCB2aXN1YWxDaGFubmVscygpIHtcbiAgICBjb25zdCB2aXN1YWxDaGFubmVscyA9IHN1cGVyLnZpc3VhbENoYW5uZWxzO1xuICAgIHJldHVybiB7XG4gICAgICBjb2xvcjoge1xuICAgICAgICAuLi52aXN1YWxDaGFubmVscy5jb2xvcixcbiAgICAgICAgYWNjZXNzb3I6ICdnZXRGaWxsQ29sb3InLFxuICAgICAgICBjb25kaXRpb246IGNvbmZpZyA9PiBjb25maWcudmlzQ29uZmlnLmZpbGxlZCxcbiAgICAgICAgbnVsbFZhbHVlOiB2aXN1YWxDaGFubmVscy5jb2xvci5udWxsVmFsdWUsXG4gICAgICAgIGdldEF0dHJpYnV0ZVZhbHVlOiBjb25maWcgPT4gZCA9PiBkLnByb3BlcnRpZXMuZmlsbENvbG9yIHx8IGNvbmZpZy5jb2xvcixcbiAgICAgICAgLy8gdXNlZCB0aGlzIHRvIGdldCB1cGRhdGVUcmlnZ2Vyc1xuICAgICAgICBkZWZhdWx0VmFsdWU6IGNvbmZpZyA9PiBjb25maWcuY29sb3JcbiAgICAgIH0sXG4gICAgICBzdHJva2VDb2xvcjoge1xuICAgICAgICBwcm9wZXJ0eTogJ3N0cm9rZUNvbG9yJyxcbiAgICAgICAgZmllbGQ6ICdzdHJva2VDb2xvckZpZWxkJyxcbiAgICAgICAgc2NhbGU6ICdzdHJva2VDb2xvclNjYWxlJyxcbiAgICAgICAgZG9tYWluOiAnc3Ryb2tlQ29sb3JEb21haW4nLFxuICAgICAgICByYW5nZTogJ3N0cm9rZUNvbG9yUmFuZ2UnLFxuICAgICAgICBrZXk6ICdzdHJva2VDb2xvcicsXG4gICAgICAgIGNoYW5uZWxTY2FsZVR5cGU6IENIQU5ORUxfU0NBTEVTLmNvbG9yLFxuICAgICAgICBhY2Nlc3NvcjogJ2dldExpbmVDb2xvcicsXG4gICAgICAgIGNvbmRpdGlvbjogY29uZmlnID0+IGNvbmZpZy52aXNDb25maWcuc3Ryb2tlZCxcbiAgICAgICAgbnVsbFZhbHVlOiB2aXN1YWxDaGFubmVscy5jb2xvci5udWxsVmFsdWUsXG4gICAgICAgIGdldEF0dHJpYnV0ZVZhbHVlOiBjb25maWcgPT4gZCA9PlxuICAgICAgICAgIGQucHJvcGVydGllcy5saW5lQ29sb3IgfHwgY29uZmlnLnZpc0NvbmZpZy5zdHJva2VDb2xvciB8fCBjb25maWcuY29sb3IsXG4gICAgICAgIC8vIHVzZWQgdGhpcyB0byBnZXQgdXBkYXRlVHJpZ2dlcnNcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBjb25maWcgPT4gY29uZmlnLnZpc0NvbmZpZy5zdHJva2VDb2xvciB8fCBjb25maWcuY29sb3JcbiAgICAgIH0sXG4gICAgICBzaXplOiB7XG4gICAgICAgIC4uLnZpc3VhbENoYW5uZWxzLnNpemUsXG4gICAgICAgIHByb3BlcnR5OiAnc3Ryb2tlJyxcbiAgICAgICAgYWNjZXNzb3I6ICdnZXRMaW5lV2lkdGgnLFxuICAgICAgICBjb25kaXRpb246IGNvbmZpZyA9PiBjb25maWcudmlzQ29uZmlnLnN0cm9rZWQsXG4gICAgICAgIG51bGxWYWx1ZTogMCxcbiAgICAgICAgZ2V0QXR0cmlidXRlVmFsdWU6ICgpID0+IGQgPT4gZC5wcm9wZXJ0aWVzLmxpbmVXaWR0aCB8fCBkZWZhdWx0TGluZVdpZHRoXG4gICAgICB9LFxuICAgICAgaGVpZ2h0OiB7XG4gICAgICAgIHByb3BlcnR5OiAnaGVpZ2h0JyxcbiAgICAgICAgZmllbGQ6ICdoZWlnaHRGaWVsZCcsXG4gICAgICAgIHNjYWxlOiAnaGVpZ2h0U2NhbGUnLFxuICAgICAgICBkb21haW46ICdoZWlnaHREb21haW4nLFxuICAgICAgICByYW5nZTogJ2hlaWdodFJhbmdlJyxcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZml4ZWQ6ICdmaXhlZEhlaWdodCcsXG4gICAgICAgIGNoYW5uZWxTY2FsZVR5cGU6IENIQU5ORUxfU0NBTEVTLnNpemUsXG4gICAgICAgIGFjY2Vzc29yOiAnZ2V0RWxldmF0aW9uJyxcbiAgICAgICAgY29uZGl0aW9uOiBjb25maWcgPT4gY29uZmlnLnZpc0NvbmZpZy5lbmFibGUzZCxcbiAgICAgICAgbnVsbFZhbHVlOiAwLFxuICAgICAgICBnZXRBdHRyaWJ1dGVWYWx1ZTogKCkgPT4gZCA9PiBkLnByb3BlcnRpZXMuZWxldmF0aW9uIHx8IGRlZmF1bHRFbGV2YXRpb25cbiAgICAgIH0sXG4gICAgICByYWRpdXM6IHtcbiAgICAgICAgcHJvcGVydHk6ICdyYWRpdXMnLFxuICAgICAgICBmaWVsZDogJ3JhZGl1c0ZpZWxkJyxcbiAgICAgICAgc2NhbGU6ICdyYWRpdXNTY2FsZScsXG4gICAgICAgIGRvbWFpbjogJ3JhZGl1c0RvbWFpbicsXG4gICAgICAgIHJhbmdlOiAncmFkaXVzUmFuZ2UnLFxuICAgICAgICBrZXk6ICdyYWRpdXMnLFxuICAgICAgICBjaGFubmVsU2NhbGVUeXBlOiBDSEFOTkVMX1NDQUxFUy5yYWRpdXMsXG4gICAgICAgIGFjY2Vzc29yOiAnZ2V0UG9pbnRSYWRpdXMnLFxuICAgICAgICBudWxsVmFsdWU6IDAsXG4gICAgICAgIGdldEF0dHJpYnV0ZVZhbHVlOiAoKSA9PiBkID0+IGQucHJvcGVydGllcy5yYWRpdXMgfHwgZGVmYXVsdFJhZGl1c1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZmluZERlZmF1bHRMYXllclByb3BzKHtsYWJlbCwgZmllbGRzID0gW119OiBLZXBsZXJUYWJsZSkge1xuICAgIGNvbnN0IGdlb2pzb25Db2x1bW5zID0gZmllbGRzXG4gICAgICAuZmlsdGVyKFxuICAgICAgICBmID0+XG4gICAgICAgICAgKGYudHlwZSA9PT0gJ2dlb2pzb24nIHx8IGYudHlwZSA9PT0gJ2dlb2Fycm93JykgJiZcbiAgICAgICAgICBmLmFuYWx5emVyVHlwZSAmJlxuICAgICAgICAgIFNVUFBPUlRFRF9BTkFMWVpFUl9UWVBFU1tmLmFuYWx5emVyVHlwZV1cbiAgICAgIClcbiAgICAgIC5tYXAoZiA9PiBmLm5hbWUpO1xuXG4gICAgY29uc3QgZGVmYXVsdENvbHVtbnMgPSB7XG4gICAgICBnZW9qc29uOiB1bmlxKFsuLi5HRU9KU09OX0ZJRUxEUy5nZW9qc29uLCAuLi5nZW9qc29uQ29sdW1uc10pXG4gICAgfTtcblxuICAgIGNvbnN0IGZvdW5kQ29sdW1ucyA9IHRoaXMuZmluZERlZmF1bHRDb2x1bW5GaWVsZChkZWZhdWx0Q29sdW1ucywgZmllbGRzKTtcbiAgICBpZiAoIWZvdW5kQ29sdW1ucyB8fCAhZm91bmRDb2x1bW5zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHtwcm9wczogW119O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBwcm9wczogZm91bmRDb2x1bW5zLm1hcChjb2x1bW5zID0+ICh7XG4gICAgICAgIGxhYmVsOiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJyAmJiBsYWJlbC5yZXBsYWNlKC9cXC5bXi8uXSskLywgJycpKSB8fCB0aGlzLnR5cGUsXG4gICAgICAgIGNvbHVtbnMsXG4gICAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgICAgfSkpXG4gICAgfTtcbiAgfVxuXG4gIGdldERlZmF1bHRMYXllckNvbmZpZyhwcm9wczogTGF5ZXJCYXNlQ29uZmlnUGFydGlhbCkge1xuICAgIGNvbnN0IGRlZmF1bHRMYXllckNvbmZpZyA9IHN1cGVyLmdldERlZmF1bHRMYXllckNvbmZpZyhwcm9wcyA/PyB7fSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmRlZmF1bHRMYXllckNvbmZpZyxcblxuICAgICAgY29sdW1uTW9kZTogcHJvcHM/LmNvbHVtbk1vZGUgPz8gREVGQVVMVF9DT0xVTU5fTU9ERSxcbiAgICAgIC8vIGFkZCBoZWlnaHQgdmlzdWFsIGNoYW5uZWxcbiAgICAgIGhlaWdodEZpZWxkOiBudWxsLFxuICAgICAgaGVpZ2h0RG9tYWluOiBbMCwgMV0sXG4gICAgICBoZWlnaHRTY2FsZTogJ2xpbmVhcicsXG5cbiAgICAgIC8vIGFkZCByYWRpdXMgdmlzdWFsIGNoYW5uZWxcbiAgICAgIHJhZGl1c0ZpZWxkOiBudWxsLFxuICAgICAgcmFkaXVzRG9tYWluOiBbMCwgMV0sXG4gICAgICByYWRpdXNTY2FsZTogJ2xpbmVhcicsXG5cbiAgICAgIC8vIGFkZCBzdHJva2UgY29sb3IgdmlzdWFsIGNoYW5uZWxcbiAgICAgIHN0cm9rZUNvbG9yRmllbGQ6IG51bGwsXG4gICAgICBzdHJva2VDb2xvckRvbWFpbjogWzAsIDFdLFxuICAgICAgc3Ryb2tlQ29sb3JTY2FsZTogJ3F1YW50aWxlJyxcbiAgICAgIGNvbG9yVUk6IHtcbiAgICAgICAgLi4uZGVmYXVsdExheWVyQ29uZmlnLmNvbG9yVUksXG4gICAgICAgIHN0cm9rZUNvbG9yUmFuZ2U6IERFRkFVTFRfQ09MT1JfVUlcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZ2V0SG92ZXJEYXRhKG9iamVjdCwgZGF0YUNvbnRhaW5lcikge1xuICAgIC8vIGluZGV4IG9mIGRhdGFDb250YWluZXIgaXMgc2F2ZWQgdG8gZmVhdHVyZS5wcm9wZXJ0aWVzXG4gICAgLy8gZm9yIGFycm93IGZvcm1hdCwgYG9iamVjdGAgaXMgdGhlIGluZGV4IG9mIHRoZSByb3cgcmV0dXJuZWQgZnJvbSBkZWNrXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmdlb0Fycm93TW9kZSA/IG9iamVjdCA6IG9iamVjdD8ucHJvcGVydGllcz8uaW5kZXg7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHJldHVybiBkYXRhQ29udGFpbmVyLnJvdyhpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0RmlsdGVyZWRJdGVtQ291bnQoKSB7XG4gICAgLy8gcmV0dXJuIC1wb2x5Z29ucy1maWxsIG9yIC1wb2x5Z29ucy1zdHJva2VcbiAgICAvLyArIC1saW5lc3RyaW5nc1xuICAgIC8vICsgLXBvaW50cy1jaXJjbGVcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5maWx0ZXJlZEl0ZW1Db3VudCkubGVuZ3RoKSB7XG4gICAgICBjb25zdCBwb2x5Z29uQ291bnQgPVxuICAgICAgICB0aGlzLmZpbHRlcmVkSXRlbUNvdW50W2Ake3RoaXMuaWR9LXBvbHlnb25zLWZpbGxgXSB8fFxuICAgICAgICB0aGlzLmZpbHRlcmVkSXRlbUNvdW50W2Ake3RoaXMuaWR9LXBvbHlnb25zLXN0cm9rZWBdIHx8XG4gICAgICAgIDA7XG4gICAgICBjb25zdCBsaW5lc3RyaW5nQ291bnQgPSB0aGlzLmZpbHRlcmVkSXRlbUNvdW50W2Ake3RoaXMuaWR9LWxpbmVzdHJpbmdzYF0gfHwgMDtcbiAgICAgIGNvbnN0IHBvaW50Q291bnQgPSB0aGlzLmZpbHRlcmVkSXRlbUNvdW50W2Ake3RoaXMuaWR9LXBvaW50cy1jaXJjbGVgXSB8fCAwO1xuXG4gICAgICByZXR1cm4gcG9seWdvbkNvdW50ICsgbGluZXN0cmluZ0NvdW50ICsgcG9pbnRDb3VudDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNhbGN1bGF0ZURhdGFBdHRyaWJ1dGUoZGF0YXNldDogS2VwbGVyVGFibGUpIHtcbiAgICB0aGlzLmdlb0Fycm93TW9kZSA9IGZpZWxkSXNHZW9BcnJvdyhcbiAgICAgIGdlb0ZpZWxkQWNjZXNzb3IodGhpcy5jb25maWcuY29sdW1ucykoZGF0YXNldC5kYXRhQ29udGFpbmVyKVxuICAgICk7XG5cbiAgICBjb25zdCB7ZGF0YUNvbnRhaW5lciwgZmlsdGVyZWRJbmRleH0gPSBkYXRhc2V0O1xuICAgIGlmICh0aGlzLmdlb0Fycm93TW9kZSkge1xuICAgICAgLy8gVE9ETyBhZGQgY29sdW1uTW9kZSBsb2dpYyBoZXJlIGZvciBBcnJvd0RhdGFDb250YWluZXI/XG4gICAgICAvLyBmaWx0ZXIgZ2VvanNvbi9hcnJvdyB0YWJsZSBieSB2YWx1ZXMgYW5kIG1ha2UgYSBwYXJ0aWFsIGNvcHkgb2YgdGhlIHJhdyB0YWJsZSBhcmUgZXhwZW5zaXZlXG4gICAgICAvLyBzbyB3ZSB3aWxsIHVzZSBmaWx0ZXJlZEluZGV4IHRvIGNyZWF0ZSBhbiBhdHRyaWJ1dGUgZS5nLiBmaWx0ZXJlZEluZGV4IFswfDFdIGZvciBHUFUgZmlsdGVyaW5nXG4gICAgICAvLyBpbiBkZWNrLmdsIGxheWVyLCBzZWU6IEZpbHRlckFycm93RXh0ZW5zaW9uIGluIEBrZXBsZXIuZ2wvZGVja2dsLWxheWVyc1xuICAgICAgaWYgKCF0aGlzLmZpbHRlcmVkSW5kZXggfHwgdGhpcy5maWx0ZXJlZEluZGV4Lmxlbmd0aCAhPT0gZGF0YUNvbnRhaW5lci5udW1Sb3dzKCkpIHtcbiAgICAgICAgLy8gZm9yIGluY3JlbWVudGFsIGRhdGEgbG9hZGluZywgd2UgbmVlZCB0byB1cGRhdGUgZmlsdGVyZWRJbmRleFxuICAgICAgICB0aGlzLmZpbHRlcmVkSW5kZXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoZGF0YUNvbnRhaW5lci5udW1Sb3dzKCkpO1xuICAgICAgICB0aGlzLmZpbHRlcmVkSW5kZXguZmlsbCgxKTtcbiAgICAgIH1cblxuICAgICAgLy8gY2hlY2sgaWYgZmlsdGVyZWRJbmRleCBpcyBhIHJhbmdlIGZyb20gMCB0byBudW1Sb3dzIGlmIGl0IGlzLCB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSBpdFxuICAgICAgY29uc3QgaXNSYW5nZSA9IGZpbHRlcmVkSW5kZXggJiYgZmlsdGVyZWRJbmRleC5sZW5ndGggPT09IGRhdGFDb250YWluZXIubnVtUm93cygpO1xuICAgICAgaWYgKCFpc1JhbmdlIHx8IHRoaXMuZmlsdGVyZWRJbmRleFRyaWdnZXIgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5maWx0ZXJlZEluZGV4LmZpbGwoMCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsdGVyZWRJbmRleC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHRoaXMuZmlsdGVyZWRJbmRleFtmaWx0ZXJlZEluZGV4W2ldXSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maWx0ZXJlZEluZGV4VHJpZ2dlciA9IGZpbHRlcmVkSW5kZXg7XG4gICAgICB9XG4gICAgICAvLyBmb3IgYXJyb3csIGFsd2F5cyByZXR1cm4gZnVsbCBkYXRhVG9GZWF0dXJlIGluc3RlYWQgb2YgYSBmaWx0ZXJlZCBvbmUsIHNvIHRoZXJlIGlzIG5vIG5lZWQgdG8gdXBkYXRlIGF0dHJpYnV0ZXMgaW4gR1BVXG4gICAgICByZXR1cm4gdGhpcy5kYXRhVG9GZWF0dXJlO1xuICAgIH1cblxuICAgIC8vIGZvciBnZW9qc29uLCB0aGlzIHNob3VsZCB3b3JrIGFzIHdlbGwgYW5kIG1vcmUgZWZmaWNpZW50LiBCdXQgd2UgbmVlZCB0byB1cGRhdGUgc29tZSB0ZXN0IGNhc2VzIGUuZy4gI0dlb2pzb25MYXllciAtPiBmb3JtYXRMYXllckRhdGFcbiAgICBzd2l0Y2ggKHRoaXMuY29uZmlnLmNvbHVtbk1vZGUpIHtcbiAgICAgIGNhc2UgQ09MVU1OX01PREVfR0VPSlNPTjoge1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRJbmRleC5tYXAoaSA9PiB0aGlzLmRhdGFUb0ZlYXR1cmVbaV0pLmZpbHRlcihkID0+IGQpO1xuICAgICAgfVxuXG4gICAgICBjYXNlIENPTFVNTl9NT0RFX1RBQkxFOlxuICAgICAgICByZXR1cm4gYXBwbHlGaWx0ZXJzVG9UYWJsZUNvbHVtbnMoZGF0YXNldCwgdGhpcy5kYXRhVG9GZWF0dXJlKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1hdExheWVyRGF0YShkYXRhc2V0cywgb2xkTGF5ZXJEYXRhKSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLmRhdGFJZCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCB7Z3B1RmlsdGVyLCBkYXRhQ29udGFpbmVyfSA9IGRhdGFzZXRzW3RoaXMuY29uZmlnLmRhdGFJZF07XG4gICAgY29uc3Qge2RhdGF9ID0gdGhpcy51cGRhdGVEYXRhKGRhdGFzZXRzLCBvbGRMYXllckRhdGEpO1xuXG4gICAgbGV0IGZpbHRlclZhbHVlQWNjZXNzb3I7XG4gICAgbGV0IGRhdGFBY2Nlc3NvcjtcbiAgICBpZiAodGhpcy5jb25maWcuY29sdW1uTW9kZSA9PT0gQ09MVU1OX01PREVfR0VPSlNPTikge1xuICAgICAgZmlsdGVyVmFsdWVBY2Nlc3NvciA9IChkYywgZCwgZmllbGRJbmRleCkgPT4gZGMudmFsdWVBdChkLnByb3BlcnRpZXMuaW5kZXgsIGZpZWxkSW5kZXgpO1xuICAgICAgZGF0YUFjY2Vzc29yID0gKCkgPT4gZCA9PiAoe2luZGV4OiBkLnByb3BlcnRpZXMuaW5kZXh9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlsdGVyVmFsdWVBY2Nlc3NvciA9IGdldFRhYmxlTW9kZVZhbHVlQWNjZXNzb3I7XG4gICAgICBkYXRhQWNjZXNzb3IgPSAoKSA9PiBkID0+ICh7aW5kZXg6IGQucHJvcGVydGllcy5pbmRleH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGluZGV4QWNjZXNzb3IgPSBmID0+IGYucHJvcGVydGllcy5pbmRleDtcbiAgICBjb25zdCBhY2Nlc3NvcnMgPSB0aGlzLmdldEF0dHJpYnV0ZUFjY2Vzc29ycyh7ZGF0YUFjY2Vzc29yLCBkYXRhQ29udGFpbmVyfSk7XG5cbiAgICBjb25zdCBpc0ZpbHRlcmVkQWNjZXNzb3IgPSBkID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcmVkSW5kZXggPyB0aGlzLmZpbHRlcmVkSW5kZXhbZC5wcm9wZXJ0aWVzLmluZGV4XSA6IDE7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBkYXRhLFxuICAgICAgZ2V0RmlsdGVyVmFsdWU6IGdwdUZpbHRlci5maWx0ZXJWYWx1ZUFjY2Vzc29yKGRhdGFDb250YWluZXIpKFxuICAgICAgICBpbmRleEFjY2Vzc29yLFxuICAgICAgICBmaWx0ZXJWYWx1ZUFjY2Vzc29yXG4gICAgICApLFxuICAgICAgZ2V0RmlsdGVyZWQ6IGlzRmlsdGVyZWRBY2Nlc3NvcixcbiAgICAgIC4uLmFjY2Vzc29yc1xuICAgIH07XG4gIH1cblxuICBpc0luUG9seWdvbihkYXRhOiBEYXRhQ29udGFpbmVySW50ZXJmYWNlLCBpbmRleDogbnVtYmVyLCBwb2x5Z29uOiBGZWF0dXJlPFBvbHlnb24+KTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2VudHJvaWRzLmxlbmd0aCA9PT0gMCB8fCAhdGhpcy5jZW50cm9pZHNbaW5kZXhdKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGlzUmVhY3RhbmdsZVNlYXJjaEJveCA9IHBvbHlnb24ucHJvcGVydGllcz8uc2hhcGUgPT09ICdSZWN0YW5nbGUnO1xuICAgIGNvbnN0IHBvaW50ID0gdGhpcy5jZW50cm9pZHNbaW5kZXhdO1xuICAgIC8vIGlmIG5vIHZhbGlkIGNlbnRyb2lkLCByZXR1cm4gZmFsc2VcbiAgICBpZiAoIXBvaW50KSByZXR1cm4gZmFsc2U7XG4gICAgLy8gcXVpY2sgY2hlY2sgaWYgY2VudHJvaWQgaXMgd2l0aGluIHRoZSBxdWVyeSByZWN0YW5nbGVcbiAgICBpZiAoaXNSZWFjdGFuZ2xlU2VhcmNoQm94ICYmIHBvbHlnb24ucHJvcGVydGllcz8uYmJveCkge1xuICAgICAgY29uc3QgW21pblgsIG1pblksIG1heFgsIG1heFldID0gcG9seWdvbj8ucHJvcGVydGllcz8uYmJveCB8fCBbXTtcbiAgICAgIHJldHVybiBwb2ludFswXSA+PSBtaW5YICYmIHBvaW50WzBdIDw9IG1heFggJiYgcG9pbnRbMV0gPj0gbWluWSAmJiBwb2ludFsxXSA8PSBtYXhZO1xuICAgIH1cbiAgICAvLyB1c2UgdHVyZi5qcyB0byBjaGVjayBpZiBjZW50cm9pZCBpcyB3aXRoaW4gcXVlcnkgcG9seWdvblxuICAgIHJldHVybiBib29sZWFuV2l0aGluKHR1cmZQb2ludChwb2ludCksIHBvbHlnb24pO1xuICB9XG5cbiAgdXBkYXRlTGF5ZXJNZXRhKGRhdGFzZXQ6IEtlcGxlclRhYmxlKSB7XG4gICAgY29uc3Qge2RhdGFDb250YWluZXJ9ID0gZGF0YXNldDtcblxuICAgIHRoaXMuZGF0YUNvbnRhaW5lciA9IGRhdGFDb250YWluZXI7XG5cbiAgICB0aGlzLmdlb0Fycm93TW9kZSA9IGZpZWxkSXNHZW9BcnJvdyhcbiAgICAgIGdlb0ZpZWxkQWNjZXNzb3IodGhpcy5jb25maWcuY29sdW1ucykoZGF0YXNldC5kYXRhQ29udGFpbmVyKVxuICAgICk7XG5cbiAgICBpZiAodGhpcy5nZW9BcnJvd01vZGUgJiYgZGF0YUNvbnRhaW5lciBpbnN0YW5jZW9mIEFycm93RGF0YUNvbnRhaW5lcikge1xuICAgICAgY29uc3QgZ2VvQ29sdW1uID0gZ2VvQ29sdW1uQWNjZXNzb3IodGhpcy5jb25maWcuY29sdW1ucykoZGF0YUNvbnRhaW5lcik7XG4gICAgICBjb25zdCBnZW9GaWVsZCA9IGdlb0ZpZWxkQWNjZXNzb3IodGhpcy5jb25maWcuY29sdW1ucykoZGF0YUNvbnRhaW5lcik7XG5cbiAgICAgIC8vIHVwZGF0ZSB0aGUgbGF0ZXN0IGJhdGNoL2NodW5rIG9mIGdlb2Fycm93IGRhdGEgd2hlbiBsb2FkaW5nIGRhdGEgaW5jcmVtZW50YWxseVxuICAgICAgaWYgKGdlb0NvbHVtbiAmJiBnZW9GaWVsZCAmJiB0aGlzLmRhdGFUb0ZlYXR1cmUubGVuZ3RoIDwgZGF0YUNvbnRhaW5lci5udW1DaHVua3MoKSkge1xuICAgICAgICAvLyBmb3IgaW5jcmVtZW50YWxseSBsb2FkaW5nIGRhdGEsIHdlIG9ubHkgbG9hZCBhbmQgcmVuZGVyIHRoZSBsYXRlc3QgYmF0Y2g7IG90aGVyd2lzZSwgd2Ugd2lsbCBsb2FkIGFuZCByZW5kZXIgYWxsIGJhdGNoZXNcbiAgICAgICAgY29uc3QgaXNJbmNyZW1lbnRhbExvYWQgPSBkYXRhQ29udGFpbmVyLm51bUNodW5rcygpIC0gdGhpcy5kYXRhVG9GZWF0dXJlLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIENPTFVNTl9NT0RFX1RBQkxFIGluIGdldEdlb2pzb25MYXllck1ldGFGcm9tQXJyb3dcbiAgICAgICAgY29uc3Qge2RhdGFUb0ZlYXR1cmUsIGJvdW5kcywgZml4ZWRSYWRpdXMsIGZlYXR1cmVUeXBlcywgY2VudHJvaWRzfSA9XG4gICAgICAgICAgZ2V0R2VvanNvbkxheWVyTWV0YUZyb21BcnJvdyh7XG4gICAgICAgICAgICBkYXRhQ29udGFpbmVyLFxuICAgICAgICAgICAgZ2VvQ29sdW1uLFxuICAgICAgICAgICAgZ2VvRmllbGQsXG4gICAgICAgICAgICAuLi4oaXNJbmNyZW1lbnRhbExvYWQgPyB7Y2h1bmtJbmRleDogdGhpcy5kYXRhVG9GZWF0dXJlLmxlbmd0aH0gOiBudWxsKVxuICAgICAgICAgIH0pO1xuICAgICAgICBpZiAoY2VudHJvaWRzKSB0aGlzLmNlbnRyb2lkcyA9IHRoaXMuY2VudHJvaWRzLmNvbmNhdChjZW50cm9pZHMpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1ldGEoe2JvdW5kcywgZml4ZWRSYWRpdXMsIGZlYXR1cmVUeXBlc30pO1xuICAgICAgICB0aGlzLmRhdGFUb0ZlYXR1cmUgPSBbLi4udGhpcy5kYXRhVG9GZWF0dXJlLCAuLi5kYXRhVG9GZWF0dXJlXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YVRvRmVhdHVyZS5sZW5ndGggPT09IDAgfHwgdGhpcy5jb25maWcuY29sdW1uTW9kZSA9PT0gQ09MVU1OX01PREVfVEFCTEUpIHtcbiAgICAgIGNvbnN0IGdldEZlYXR1cmUgPSB0aGlzLmdldFBvc2l0aW9uQWNjZXNzb3IoZGF0YUNvbnRhaW5lcik7XG5cbiAgICAgIGNvbnN0IHtkYXRhVG9GZWF0dXJlLCBib3VuZHMsIGZpeGVkUmFkaXVzLCBmZWF0dXJlVHlwZXMsIGNlbnRyb2lkc30gPSBnZXRHZW9qc29uTGF5ZXJNZXRhKHtcbiAgICAgICAgZGF0YUNvbnRhaW5lcixcbiAgICAgICAgZ2V0RmVhdHVyZSxcbiAgICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZ1xuICAgICAgfSk7XG4gICAgICBpZiAoY2VudHJvaWRzKSB0aGlzLmNlbnRyb2lkcyA9IGNlbnRyb2lkcztcbiAgICAgIHRoaXMuZGF0YVRvRmVhdHVyZSA9IGRhdGFUb0ZlYXR1cmU7XG4gICAgICB0aGlzLnVwZGF0ZU1ldGEoe2JvdW5kcywgZml4ZWRSYWRpdXMsIGZlYXR1cmVUeXBlc30pO1xuICAgIH1cbiAgfVxuXG4gIHNldEluaXRpYWxMYXllckNvbmZpZyhkYXRhc2V0OiBLZXBsZXJUYWJsZSkge1xuICAgIGNvbnN0IHtkYXRhQ29udGFpbmVyfSA9IGRhdGFzZXQ7XG4gICAgaWYgKCFkYXRhQ29udGFpbmVyLm51bVJvd3MoKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gZGVmZWZhdWx0TGF5ZXJQcm9wcyB3aWxsIGF1dG9tYXRpY2FsbHkgZmluZCBnZW9qc29uIGNvbHVtblxuICAgIC8vIGlmIG5vdCBmb3VuZCwgd2UgdHJ5IHRvIHNldCBpdCB0byBpZCAvIGxhdCAvbG5nIC90c1xuICAgIGlmICghdGhpcy5jb25maWcuY29sdW1ucy5nZW9qc29uLnZhbHVlKSB7XG4gICAgICAvLyBmaW5kIGNvbHVtbnMgZnJvbSBsYXQsIGxuZywgaWQsIGFuZCB0c1xuICAgICAgY29uc3QgY29sdW1uQ29uZmlnID0gZGV0ZWN0VGFibGVDb2x1bW5zKGRhdGFzZXQsIHRoaXMuY29uZmlnLmNvbHVtbnMsICdzb3J0QnknKTtcbiAgICAgIGlmIChjb2x1bW5Db25maWcpIHtcbiAgICAgICAgdGhpcy51cGRhdGVMYXllckNvbmZpZyh7XG4gICAgICAgICAgLi4uY29sdW1uQ29uZmlnLFxuICAgICAgICAgIGNvbHVtbk1vZGU6IENPTFVNTl9NT0RFX1RBQkxFXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVMYXllck1ldGEoZGF0YXNldCk7XG5cbiAgICBjb25zdCB7ZmVhdHVyZVR5cGVzfSA9IHRoaXMubWV0YTtcbiAgICAvLyBkZWZhdWx0IHNldHRpbmdzIGlzIHN0cm9rZTogdHJ1ZSwgZmlsbGVkOiBmYWxzZVxuICAgIGlmIChmZWF0dXJlVHlwZXMgJiYgZmVhdHVyZVR5cGVzLnBvbHlnb24pIHtcbiAgICAgIC8vIHNldCBib3RoIGZpbGwgYW5kIHN0cm9rZSB0byB0cnVlXG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVMYXllclZpc0NvbmZpZyh7XG4gICAgICAgIGZpbGxlZDogdHJ1ZSxcbiAgICAgICAgc3Ryb2tlZDogdHJ1ZSxcbiAgICAgICAgc3Ryb2tlQ29sb3I6IGNvbG9yTWFrZXIubmV4dCgpLnZhbHVlXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGZlYXR1cmVUeXBlcyAmJiBmZWF0dXJlVHlwZXMucG9pbnQpIHtcbiAgICAgIC8vIHNldCBmaWxsIHRvIHRydWUgaWYgZGV0ZWN0IHBvaW50XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVMYXllclZpc0NvbmZpZyh7ZmlsbGVkOiB0cnVlLCBzdHJva2VkOiBmYWxzZX0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaXNMYXllckhvdmVyZWQob2JqZWN0SW5mbzogT2JqZWN0SW5mbyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmdlb0Fycm93TW9kZVxuICAgICAgPyBpc0xheWVySG92ZXJlZEZyb21BcnJvdyhvYmplY3RJbmZvLCB0aGlzLmlkKVxuICAgICAgOiBzdXBlci5pc0xheWVySG92ZXJlZChvYmplY3RJbmZvKTtcbiAgfVxuXG4gIGhhc0hvdmVyZWRPYmplY3Qob2JqZWN0SW5mbzogT2JqZWN0SW5mbyk6IEZlYXR1cmUgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5nZW9BcnJvd01vZGVcbiAgICAgID8gZ2V0SG92ZXJlZE9iamVjdEZyb21BcnJvdyhcbiAgICAgICAgICBvYmplY3RJbmZvLFxuICAgICAgICAgIHRoaXMuZGF0YUNvbnRhaW5lcixcbiAgICAgICAgICB0aGlzLmlkLFxuICAgICAgICAgIGdlb0NvbHVtbkFjY2Vzc29yKHRoaXMuY29uZmlnLmNvbHVtbnMpLFxuICAgICAgICAgIGdlb0ZpZWxkQWNjZXNzb3IodGhpcy5jb25maWcuY29sdW1ucylcbiAgICAgICAgKVxuICAgICAgOiBzdXBlci5oYXNIb3ZlcmVkT2JqZWN0KG9iamVjdEluZm8pO1xuICB9XG5cbiAgZ2V0RWxldmF0aW9uWm9vbUZhY3Rvcih7em9vbSwgem9vbU9mZnNldCA9IDB9KSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnZpc0NvbmZpZy5maXhlZEhlaWdodCA/IDEgOiBNYXRoLnBvdygyLCBNYXRoLm1heCg4IC0gem9vbSArIHpvb21PZmZzZXQsIDApKTtcbiAgfVxuXG4gIHJlbmRlckxheWVyKG9wdHMpIHtcbiAgICBjb25zdCB7ZGF0YTogZGF0YVByb3BzLCBncHVGaWx0ZXIsIG9iamVjdEhvdmVyZWQsIG1hcFN0YXRlLCBpbnRlcmFjdGlvbkNvbmZpZ30gPSBvcHRzO1xuXG4gICAgY29uc3Qge2ZpeGVkUmFkaXVzLCBmZWF0dXJlVHlwZXN9ID0gdGhpcy5tZXRhO1xuICAgIGNvbnN0IHJhZGl1c1NjYWxlID0gdGhpcy5nZXRSYWRpdXNTY2FsZUJ5Wm9vbShtYXBTdGF0ZSwgZml4ZWRSYWRpdXMpO1xuICAgIGNvbnN0IHpvb21GYWN0b3IgPSB0aGlzLmdldFpvb21GYWN0b3IobWFwU3RhdGUpO1xuICAgIGNvbnN0IGVsZVpvb21GYWN0b3IgPSB0aGlzLmdldEVsZXZhdGlvblpvb21GYWN0b3IobWFwU3RhdGUpO1xuXG4gICAgY29uc3Qge3Zpc0NvbmZpZ30gPSB0aGlzLmNvbmZpZztcblxuICAgIGNvbnN0IGxheWVyUHJvcHMgPSB7XG4gICAgICBsaW5lV2lkdGhTY2FsZTogdmlzQ29uZmlnLnRoaWNrbmVzcyAqIHpvb21GYWN0b3IgKiA4LFxuICAgICAgZWxldmF0aW9uU2NhbGU6IHZpc0NvbmZpZy5lbGV2YXRpb25TY2FsZSAqIGVsZVpvb21GYWN0b3IsXG4gICAgICBwb2ludFJhZGl1c1NjYWxlOiByYWRpdXNTY2FsZSxcbiAgICAgIGxpbmVNaXRlckxpbWl0OiA0XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZVRyaWdnZXJzID0ge1xuICAgICAgLi4udGhpcy5nZXRWaXN1YWxDaGFubmVsVXBkYXRlVHJpZ2dlcnMoKSxcbiAgICAgIGdldEZpbHRlclZhbHVlOiBncHVGaWx0ZXIuZmlsdGVyVmFsdWVVcGRhdGVUcmlnZ2VycyxcbiAgICAgIGdldEZpbHRlcmVkOiB0aGlzLmZpbHRlcmVkSW5kZXhUcmlnZ2VyXG4gICAgfTtcblxuICAgIGNvbnN0IGRlZmF1bHRMYXllclByb3BzID0gdGhpcy5nZXREZWZhdWx0RGVja0xheWVyUHJvcHMob3B0cyk7XG4gICAgY29uc3Qgb3BhT3ZlcndyaXRlID0ge1xuICAgICAgb3BhY2l0eTogdmlzQ29uZmlnLnN0cm9rZU9wYWNpdHlcbiAgICB9O1xuXG4gICAgY29uc3QgcGlja2FibGUgPSBpbnRlcmFjdGlvbkNvbmZpZy50b29sdGlwLmVuYWJsZWQ7XG4gICAgY29uc3QgaG92ZXJlZE9iamVjdCA9IHRoaXMuaGFzSG92ZXJlZE9iamVjdChvYmplY3RIb3ZlcmVkKTtcblxuICAgIGNvbnN0IHtkYXRhLCAuLi5wcm9wc30gPSBkYXRhUHJvcHM7XG5cbiAgICAvLyBhcnJvdyB0YWJsZSBjYW4gaGF2ZSBtdWx0aXBsZSBjaHVua3MsIGEgZGVjay5nbCBsYXllciBpcyBjcmVhdGVkIGZvciBlYWNoIGNodW5rXG4gICAgY29uc3QgZGVja0xheWVyRGF0YSA9IHRoaXMuZ2VvQXJyb3dNb2RlID8gZGF0YSA6IFtkYXRhXTtcbiAgICBjb25zdCBkZWNrTGF5ZXJzID0gZGVja0xheWVyRGF0YS5tYXAoKGQsIGkpID0+IHtcbiAgICAgIHJldHVybiBuZXcgRGVja0dMR2VvSnNvbkxheWVyKHtcbiAgICAgICAgLi4uZGVmYXVsdExheWVyUHJvcHMsXG4gICAgICAgIC4uLmxheWVyUHJvcHMsXG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBkYXRhOiBkLFxuICAgICAgICBpZDogZGVja0xheWVyRGF0YS5sZW5ndGggPiAxID8gYCR7dGhpcy5pZH0tJHtpfWAgOiB0aGlzLmlkLFxuICAgICAgICBwaWNrYWJsZSxcbiAgICAgICAgaGlnaGxpZ2h0Q29sb3I6IEhJR0hMSUdIX0NPTE9SXzNELFxuICAgICAgICBhdXRvSGlnaGxpZ2h0OiB2aXNDb25maWcuZW5hYmxlM2QgJiYgcGlja2FibGUsXG4gICAgICAgIHN0cm9rZWQ6IHZpc0NvbmZpZy5zdHJva2VkLFxuICAgICAgICBmaWxsZWQ6IHZpc0NvbmZpZy5maWxsZWQsXG4gICAgICAgIGV4dHJ1ZGVkOiB2aXNDb25maWcuZW5hYmxlM2QsXG4gICAgICAgIHdpcmVmcmFtZTogdmlzQ29uZmlnLndpcmVmcmFtZSxcbiAgICAgICAgd3JhcExvbmdpdHVkZTogZmFsc2UsXG4gICAgICAgIGxpbmVNaXRlckxpbWl0OiAyLFxuICAgICAgICBjYXBSb3VuZGVkOiB0cnVlLFxuICAgICAgICBqb2ludFJvdW5kZWQ6IHRydWUsXG4gICAgICAgIHVwZGF0ZVRyaWdnZXJzLFxuICAgICAgICBleHRlbnNpb25zOiBbLi4uZGVmYXVsdExheWVyUHJvcHMuZXh0ZW5zaW9ucywgbmV3IEZpbHRlckFycm93RXh0ZW5zaW9uKCldLFxuICAgICAgICBfc3ViTGF5ZXJQcm9wczoge1xuICAgICAgICAgIC4uLihmZWF0dXJlVHlwZXM/LnBvbHlnb24gPyB7J3BvbHlnb25zLXN0cm9rZSc6IG9wYU92ZXJ3cml0ZX0gOiB7fSksXG4gICAgICAgICAgLi4uKGZlYXR1cmVUeXBlcz8ubGluZSA/IHtsaW5lc3RyaW5nczogb3BhT3ZlcndyaXRlfSA6IHt9KSxcbiAgICAgICAgICAuLi4oZmVhdHVyZVR5cGVzPy5wb2ludFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgcG9pbnRzOiB7XG4gICAgICAgICAgICAgICAgICBsaW5lT3BhY2l0eTogdmlzQ29uZmlnLnN0cm9rZU9wYWNpdHlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge30pXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIC4uLmRlY2tMYXllcnMsXG4gICAgICAvLyBob3ZlciBsYXllclxuICAgICAgLi4uKGhvdmVyZWRPYmplY3QgJiYgIXZpc0NvbmZpZy5lbmFibGUzZFxuICAgICAgICA/IFtcbiAgICAgICAgICAgIG5ldyBEZWNrR0xHZW9Kc29uTGF5ZXIoe1xuICAgICAgICAgICAgICAuLi50aGlzLmdldERlZmF1bHRIb3ZlckxheWVyUHJvcHMoKSxcbiAgICAgICAgICAgICAgLi4ubGF5ZXJQcm9wcyxcbiAgICAgICAgICAgICAgdmlzaWJsZTogZGVmYXVsdExheWVyUHJvcHMudmlzaWJsZSxcbiAgICAgICAgICAgICAgd3JhcExvbmdpdHVkZTogZmFsc2UsXG4gICAgICAgICAgICAgIGRhdGE6IFtob3ZlcmVkT2JqZWN0XSxcbiAgICAgICAgICAgICAgZ2V0TGluZVdpZHRoOiBwcm9wcy5nZXRMaW5lV2lkdGgsXG4gICAgICAgICAgICAgIGdldFBvaW50UmFkaXVzOiBwcm9wcy5nZXRQb2ludFJhZGl1cyxcbiAgICAgICAgICAgICAgZ2V0RWxldmF0aW9uOiBwcm9wcy5nZXRFbGV2YXRpb24sXG4gICAgICAgICAgICAgIGdldExpbmVDb2xvcjogdGhpcy5jb25maWcuaGlnaGxpZ2h0Q29sb3IsXG4gICAgICAgICAgICAgIGdldEZpbGxDb2xvcjogdGhpcy5jb25maWcuaGlnaGxpZ2h0Q29sb3IsXG4gICAgICAgICAgICAgIC8vIGFsd2F5cyBkcmF3IG91dGxpbmVcbiAgICAgICAgICAgICAgc3Ryb2tlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgZmlsbGVkOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICBdXG4gICAgICAgIDogW10pXG4gICAgXTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJQSxJQUFBQSxRQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxjQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFFQSxJQUFBRyxPQUFBLEdBQUFELHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSSxhQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxVQUFBLEdBQUFDLHVCQUFBLENBQUFOLE9BQUE7QUFXQSxJQUFBTyxPQUFBLEdBQUFQLE9BQUE7QUFDQSxJQUFBUSxhQUFBLEdBQUFSLE9BQUE7QUFTQSxJQUFBUyxXQUFBLEdBQUFULE9BQUE7QUFLQSxJQUFBVSxpQkFBQSxH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
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AddDataButtonFactory = AddDataButtonFactory;
exports["default"] = void 0;
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireDefault(require("react"));
var _styledComponents = _interopRequireDefault(require("styled-components"));
var _localization = require("@kepler.gl/localization");
var _icons = require("../../common/icons");
var _styledComponents2 = require("../../common/styled-components");
var _sourceDataCatalog = _interopRequireDefault(require("../common/source-data-catalog"));
var _templateObject, _templateObject2; // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
var StyledDatasetTitle = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  line-height: ", ";\n  font-weight: 400;\n  letter-spacing: 1.25px;\n  color: ", ";\n  font-size: 11px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: ", ";\n"])), function (props) {
  return props.theme.sidePanelTitleLineHeight;
}, function (props) {
  return props.theme.subtextColor;
}, function (props) {
  return props.showDatasetList ? '16px' : '4px';
});
var StyledDatasetSection = _styledComponents["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  border-bottom: 1px solid ", ";\n"])), function (props) {
  return props.theme.sidePanelBorderColor;
});
function AddDataButtonFactory() {
  var AddDataButton = /*#__PURE__*/_react["default"].memo(function (_ref) {
    var onClick = _ref.onClick,
      isInactive = _ref.isInactive;
    return /*#__PURE__*/_react["default"].createElement(_styledComponents2.Button, {
      className: "add-data-button",
      onClick: onClick,
      inactive: !isInactive,
      width: "105px",
      secondary: true
    }, /*#__PURE__*/_react["default"].createElement(_icons.Add, {
      height: "12px"
    }), /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: 'layerManager.addData'
    }));
  });
  AddDataButton.displayName = 'AddDataButton';
  return AddDataButton;
}
DatasetSectionFactory.deps = [_sourceDataCatalog["default"], AddDataButtonFactory];
function DatasetSectionFactory(SourceDataCatalog, AddDataButton) {
  var DatasetSection = function DatasetSection(props) {
    var datasets = props.datasets,
      showDatasetTable = props.showDatasetTable,
      updateTableColor = props.updateTableColor,
      showDeleteDataset = props.showDeleteDataset,
      removeDataset = props.removeDataset,
      showDatasetList = props.showDatasetList,
      showAddDataModal = props.showAddDataModal;
    var datasetCount = Object.keys(datasets).length;
    return /*#__PURE__*/_react["default"].createElement(StyledDatasetSection, null, /*#__PURE__*/_react["default"].createElement(StyledDatasetTitle, {
      showDatasetList: showDatasetList
    }, /*#__PURE__*/_react["default"].createElement("span", null, "Datasets", datasetCount ? "(".concat(datasetCount, ")") : ''), /*#__PURE__*/_react["default"].createElement(AddDataButton, {
      onClick: showAddDataModal,
      isInactive: !datasetCount
    })), showDatasetList && /*#__PURE__*/_react["default"].createElement(SourceDataCatalog, {
      datasets: datasets,
      showDatasetTable: showDatasetTable,
      updateTableColor: updateTableColor,
      removeDataset: removeDataset,
      showDeleteDataset: showDeleteDataset
    }));
  };
  return DatasetSection;
}
var _default = exports["default"] = DatasetSectionFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9zdHlsZWRDb21wb25lbnRzIiwiX2xvY2FsaXphdGlvbiIsIl9pY29ucyIsIl9zdHlsZWRDb21wb25lbnRzMiIsIl9zb3VyY2VEYXRhQ2F0YWxvZyIsIl90ZW1wbGF0ZU9iamVjdCIsIl90ZW1wbGF0ZU9iamVjdDIiLCJTdHlsZWREYXRhc2V0VGl0bGUiLCJzdHlsZWQiLCJkaXYiLCJfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsMiIsInByb3BzIiwidGhlbWUiLCJzaWRlUGFuZWxUaXRsZUxpbmVIZWlnaHQiLCJzdWJ0ZXh0Q29sb3IiLCJzaG93RGF0YXNldExpc3QiLCJTdHlsZWREYXRhc2V0U2VjdGlvbiIsInNpZGVQYW5lbEJvcmRlckNvbG9yIiwiQWRkRGF0YUJ1dHRvbkZhY3RvcnkiLCJBZGREYXRhQnV0dG9uIiwiUmVhY3QiLCJtZW1vIiwiX3JlZiIsIm9uQ2xpY2siLCJpc0luYWN0aXZlIiwiY3JlYXRlRWxlbWVudCIsIkJ1dHRvbiIsImNsYXNzTmFtZSIsImluYWN0aXZlIiwid2lkdGgiLCJzZWNvbmRhcnkiLCJBZGQiLCJoZWlnaHQiLCJGb3JtYXR0ZWRNZXNzYWdlIiwiaWQiLCJkaXNwbGF5TmFtZSIsIkRhdGFzZXRTZWN0aW9uRmFjdG9yeSIsImRlcHMiLCJTb3VyY2VEYXRhQ2F0YWxvZ0ZhY3RvcnkiLCJTb3VyY2VEYXRhQ2F0YWxvZyIsIkRhdGFzZXRTZWN0aW9uIiwiZGF0YXNldHMiLCJzaG93RGF0YXNldFRhYmxlIiwidXBkYXRlVGFibGVDb2xvciIsInNob3dEZWxldGVEYXRhc2V0IiwicmVtb3ZlRGF0YXNldCIsInNob3dBZGREYXRhTW9kYWwiLCJkYXRhc2V0Q291bnQiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiY29uY2F0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3NpZGUtcGFuZWwvbGF5ZXItcGFuZWwvZGF0YXNldC1zZWN0aW9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4vLyBDb3B5cmlnaHQgY29udHJpYnV0b3JzIHRvIHRoZSBrZXBsZXIuZ2wgcHJvamVjdFxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQge0Zvcm1hdHRlZE1lc3NhZ2V9IGZyb20gJ0BrZXBsZXIuZ2wvbG9jYWxpemF0aW9uJztcbmltcG9ydCB7QWRkfSBmcm9tICcuLi8uLi9jb21tb24vaWNvbnMnO1xuaW1wb3J0IHtCdXR0b259IGZyb20gJy4uLy4uL2NvbW1vbi9zdHlsZWQtY29tcG9uZW50cyc7XG5cbmltcG9ydCBTb3VyY2VEYXRhQ2F0YWxvZ0ZhY3RvcnkgZnJvbSAnLi4vY29tbW9uL3NvdXJjZS1kYXRhLWNhdGFsb2cnO1xuaW1wb3J0IHtVSVN0YXRlQWN0aW9ucywgVmlzU3RhdGVBY3Rpb25zLCBBY3Rpb25IYW5kbGVyfSBmcm9tICdAa2VwbGVyLmdsL2FjdGlvbnMnO1xuaW1wb3J0IHtEYXRhc2V0c30gZnJvbSAnQGtlcGxlci5nbC90YWJsZSc7XG5cbnR5cGUgQWRkRGF0YUJ1dHRvblByb3BzID0ge1xuICBvbkNsaWNrOiAoKSA9PiB2b2lkO1xuICBpc0luYWN0aXZlOiBib29sZWFuO1xufTtcblxudHlwZSBEYXRhc2V0U2VjdGlvblByb3BzID0ge1xuICBkYXRhc2V0czogRGF0YXNldHM7XG4gIHNob3dEYXRhc2V0TGlzdD86IGJvb2xlYW47XG4gIHNob3dEZWxldGVEYXRhc2V0PzogYm9vbGVhbjtcbiAgc2hvd0RhdGFzZXRUYWJsZTogQWN0aW9uSGFuZGxlcjx0eXBlb2YgVmlzU3RhdGVBY3Rpb25zLnNob3dEYXRhc2V0VGFibGU+O1xuICB1cGRhdGVUYWJsZUNvbG9yOiBBY3Rpb25IYW5kbGVyPHR5cGVvZiBWaXNTdGF0ZUFjdGlvbnMudXBkYXRlVGFibGVDb2xvcj47XG4gIHJlbW92ZURhdGFzZXQ6IEFjdGlvbkhhbmRsZXI8dHlwZW9mIFVJU3RhdGVBY3Rpb25zLm9wZW5EZWxldGVNb2RhbD47XG4gIHNob3dBZGREYXRhTW9kYWw6ICgpID0+IHZvaWQ7XG59O1xuXG5jb25zdCBTdHlsZWREYXRhc2V0VGl0bGUgPSBzdHlsZWQuZGl2PHtzaG93RGF0YXNldExpc3Q/OiBib29sZWFufT5gXG4gIGxpbmUtaGVpZ2h0OiAke3Byb3BzID0+IHByb3BzLnRoZW1lLnNpZGVQYW5lbFRpdGxlTGluZUhlaWdodH07XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGxldHRlci1zcGFjaW5nOiAxLjI1cHg7XG4gIGNvbG9yOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLnN1YnRleHRDb2xvcn07XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAke3Byb3BzID0+IChwcm9wcy5zaG93RGF0YXNldExpc3QgPyAnMTZweCcgOiAnNHB4Jyl9O1xuYDtcblxuY29uc3QgU3R5bGVkRGF0YXNldFNlY3Rpb24gPSBzdHlsZWQuZGl2YFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgJHtwcm9wcyA9PiBwcm9wcy50aGVtZS5zaWRlUGFuZWxCb3JkZXJDb2xvcn07XG5gO1xuXG5leHBvcnQgZnVuY3Rpb24gQWRkRGF0YUJ1dHRvbkZhY3RvcnkoKSB7XG4gIGNvbnN0IEFkZERhdGFCdXR0b246IFJlYWN0LkZDPEFkZERhdGFCdXR0b25Qcm9wcz4gPSBSZWFjdC5tZW1vKCh7b25DbGljaywgaXNJbmFjdGl2ZX0pID0+IChcbiAgICA8QnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJhZGQtZGF0YS1idXR0b25cIlxuICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgIGluYWN0aXZlPXshaXNJbmFjdGl2ZX1cbiAgICAgIHdpZHRoPVwiMTA1cHhcIlxuICAgICAgc2Vjb25kYXJ5XG4gICAgPlxuICAgICAgPEFkZCBoZWlnaHQ9XCIxMnB4XCIgLz5cbiAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPXsnbGF5ZXJNYW5hZ2VyLmFkZERhdGEnfSAvPlxuICAgIDwvQnV0dG9uPlxuICApKTtcbiAgQWRkRGF0YUJ1dHRvbi5kaXNwbGF5TmFtZSA9ICdBZGREYXRhQnV0dG9uJztcbiAgcmV0dXJuIEFkZERhdGFCdXR0b247XG59XG5cbkRhdGFzZXRTZWN0aW9uRmFjdG9yeS5kZXBzID0gW1NvdXJjZURhdGFDYXRhbG9nRmFjdG9yeSwgQWRkRGF0YUJ1dHRvbkZhY3RvcnldO1xuXG5mdW5jdGlvbiBEYXRhc2V0U2VjdGlvbkZhY3RvcnkoXG4gIFNvdXJjZURhdGFDYXRhbG9nOiBSZXR1cm5UeXBlPHR5cGVvZiBTb3VyY2VEYXRhQ2F0YWxvZ0ZhY3Rvcnk+LFxuICBBZGREYXRhQnV0dG9uOiBSZXR1cm5UeXBlPHR5cGVvZiBBZGREYXRhQnV0dG9uRmFjdG9yeT5cbikge1xuICBjb25zdCBEYXRhc2V0U2VjdGlvbjogUmVhY3QuRkM8RGF0YXNldFNlY3Rpb25Qcm9wcz4gPSBwcm9wcyA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YXNldHMsXG4gICAgICBzaG93RGF0YXNldFRhYmxlLFxuICAgICAgdXBkYXRlVGFibGVDb2xvcixcbiAgICAgIHNob3dEZWxldGVEYXRhc2V0LFxuICAgICAgcmVtb3ZlRGF0YXNldCxcbiAgICAgIHNob3dEYXRhc2V0TGlzdCxcbiAgICAgIHNob3dBZGREYXRhTW9kYWxcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3QgZGF0YXNldENvdW50ID0gT2JqZWN0LmtleXMoZGF0YXNldHMpLmxlbmd0aDtcblxuICAgIHJldHVybiAoXG4gICAgICA8U3R5bGVkRGF0YXNldFNlY3Rpb24+XG4gICAgICAgIDxTdHlsZWREYXRhc2V0VGl0bGUgc2hvd0RhdGFzZXRMaXN0PXtzaG93RGF0YXNldExpc3R9PlxuICAgICAgICAgIDxzcGFuPkRhdGFzZXRze2RhdGFzZXRDb3VudCA/IGAoJHtkYXRhc2V0Q291bnR9KWAgOiAnJ308L3NwYW4+XG4gICAgICAgICAgPEFkZERhdGFCdXR0b24gb25DbGljaz17c2hvd0FkZERhdGFNb2RhbH0gaXNJbmFjdGl2ZT17IWRhdGFzZXRDb3VudH0gLz5cbiAgICAgICAgPC9TdHlsZWREYXRhc2V0VGl0bGU+XG4gICAgICAgIHtzaG93RGF0YXNldExpc3QgJiYgKFxuICAgICAgICAgIDxTb3VyY2VEYXRhQ2F0YWxvZ1xuICAgICAgICAgICAgZGF0YXNldHM9e2RhdGFzZXRzfVxuICAgICAgICAgICAgc2hvd0RhdGFzZXRUYWJsZT17c2hvd0RhdGFzZXRUYWJsZX1cbiAgICAgICAgICAgIHVwZGF0ZVRhYmxlQ29sb3I9e3VwZGF0ZVRhYmxlQ29sb3J9XG4gICAgICAgICAgICByZW1vdmVEYXRhc2V0PXtyZW1vdmVEYXRhc2V0fVxuICAgICAgICAgICAgc2hvd0RlbGV0ZURhdGFzZXQ9e3Nob3dEZWxldGVEYXRhc2V0fVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8L1N0eWxlZERhdGFzZXRTZWN0aW9uPlxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIERhdGFzZXRTZWN0aW9uO1xufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRhc2V0U2VjdGlvbkZhY3Rvcnk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUdBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGlCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxhQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxNQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxrQkFBQSxHQUFBSixPQUFBO0FBRUEsSUFBQUssa0JBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUFxRSxJQUFBTSxlQUFBLEVBQUFDLGdCQUFBLEVBVHJFO0FBQ0E7QUEyQkEsSUFBTUMsa0JBQWtCLEdBQUdDLDRCQUFNLENBQUNDLEdBQUcsQ0FBQUosZUFBQSxLQUFBQSxlQUFBLE9BQUFLLHVCQUFBLHNPQUNwQixVQUFBQyxLQUFLO0VBQUEsT0FBSUEsS0FBSyxDQUFDQyxLQUFLLENBQUNDLHdCQUF3QjtBQUFBLEdBR25ELFVBQUFGLEtBQUs7RUFBQSxPQUFJQSxLQUFLLENBQUNDLEtBQUssQ0FBQ0UsWUFBWTtBQUFBLEdBS3pCLFVBQUFILEtBQUs7RUFBQSxPQUFLQSxLQUFLLENBQUNJLGVBQWUsR0FBRyxNQUFNLEdBQUcsS0FBSztBQUFBLENBQUMsQ0FDbkU7QUFFRCxJQUFNQyxvQkFBb0IsR0FBR1IsNEJBQU0sQ0FBQ0MsR0FBRyxDQUFBSCxnQkFBQSxLQUFBQSxnQkFBQSxPQUFBSSx1QkFBQSx5REFDVixVQUFBQyxLQUFLO0VBQUEsT0FBSUEsS0FBSyxDQUFDQyxLQUFLLENBQUNLLG9CQUFvQjtBQUFBLEVBQ3JFO0FBRU0sU0FBU0Msb0JBQW9CQSxDQUFBLEVBQUc7RUFDckMsSUFBTUMsYUFBMkMsZ0JBQUdDLGlCQUFLLENBQUNDLElBQUksQ0FBQyxVQUFBQyxJQUFBO0lBQUEsSUFBRUMsT0FBTyxHQUFBRCxJQUFBLENBQVBDLE9BQU87TUFBRUMsVUFBVSxHQUFBRixJQUFBLENBQVZFLFVBQVU7SUFBQSxvQkFDbEYzQixNQUFBLFlBQUE0QixhQUFBLENBQUN0QixrQkFBQSxDQUFBdUIsTUFBTTtNQUNMQyxTQUFTLEVBQUMsaUJBQWlCO01BQzNCSixPQUFPLEVBQUVBLE9BQVE7TUFDakJLLFFBQVEsRUFBRSxDQUFDSixVQUFXO01BQ3RCSyxLQUFLLEVBQUMsT0FBTztNQUNiQyxTQUFTO0lBQUEsZ0JBRVRqQyxNQUFBLFlBQUE0QixhQUFBLENBQUN2QixNQUFBLENBQUE2QixHQUFHO01BQUNDLE1BQU0sRUFBQztJQUFNLENBQUUsQ0FBQyxlQUNyQm5DLE1BQUEsWUFBQTRCLGFBQUEsQ0FBQ3hCLGFBQUEsQ0FBQWdDLGdCQUFnQjtNQUFDQyxFQUFFLEVBQUU7SUFBdUIsQ0FBRSxDQUN6QyxDQUFDO0VBQUEsQ0FDVixDQUFDO0VBQ0ZmLGFBQWEsQ0FBQ2dCLFdBQVcsR0FBRyxlQUFlO0VBQzNDLE9BQU9oQixhQUFhO0FBQ3RCO0FBRUFpQixxQkFBcUIsQ0FBQ0MsSUFBSSxHQUFHLENBQUNDLDZCQUF3QixFQUFFcEIsb0JBQW9CLENBQUM7QUFFN0UsU0FBU2tCLHFCQUFxQkEsQ0FDNUJHLGlCQUE4RCxFQUM5RHBCLGFBQXNELEVBQ3REO0VBQ0EsSUFBTXFCLGNBQTZDLEdBQUcsU0FBaERBLGNBQTZDQSxDQUFHN0IsS0FBSyxFQUFJO0lBQzdELElBQ0U4QixRQUFRLEdBT045QixLQUFLLENBUFA4QixRQUFRO01BQ1JDLGdCQUFnQixHQU1kL0IsS0FBSyxDQU5QK0IsZ0JBQWdCO01BQ2hCQyxnQkFBZ0IsR0FLZGhDLEtBQUssQ0FMUGdDLGdCQUFnQjtNQUNoQkMsaUJBQWlCLEdBSWZqQyxLQUFLLENBSlBpQyxpQkFBaUI7TUFDakJDLGFBQWEsR0FHWGxDLEtBQUssQ0FIUGtDLGFBQWE7TUFDYjlCLGVBQWUsR0FFYkosS0FBSyxDQUZQSSxlQUFlO01BQ2YrQixnQkFBZ0IsR0FDZG5DLEtBQUssQ0FEUG1DLGdCQUFnQjtJQUVsQixJQUFNQyxZQUFZLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDUixRQUFRLENBQUMsQ0FBQ1MsTUFBTTtJQUVqRCxvQkFDRXJELE1BQUEsWUFBQTRCLGFBQUEsQ0FBQ1Qsb0JBQW9CLHFCQUNuQm5CLE1BQUEsWUFBQTRCLGFBQUEsQ0FBQ2xCLGtCQUFrQjtNQUFDUSxlQUFlLEVBQUVBO0lBQWdCLGdCQUNuRGxCLE1BQUEsWUFBQTRCLGFBQUEsZUFBTSxVQUFRLEVBQUNzQixZQUFZLE9BQUFJLE1BQUEsQ0FBT0osWUFBWSxTQUFNLEVBQVMsQ0FBQyxlQUM5RGxELE1BQUEsWUFBQTRCLGFBQUEsQ0FBQ04sYUFBYTtNQUFDSSxPQUFPLEVBQUV1QixnQkFBaUI7TUFBQ3RCLFVBQVUsRUFBRSxDQUFDdUI7SUFBYSxDQUFFLENBQ3BELENBQUMsRUFDcEJoQyxlQUFlLGlCQUNkbEIsTUFBQSxZQUFBNEIsYUFBQSxDQUFDYyxpQkFBaUI7TUFDaEJFLFFBQVEsRUFBRUEsUUFBUztNQUNuQkMsZ0JBQWdCLEVBQUVBLGdCQUFpQjtNQUNuQ0MsZ0JBQWdCLEVBQUVBLGdCQUFpQjtNQUNuQ0UsYUFBYSxFQUFFQSxhQUFjO01BQzdCRCxpQkFBaUIsRUFBRUE7SUFBa0IsQ0FDdEMsQ0FFaUIsQ0FBQztFQUUzQixDQUFDO0VBRUQsT0FBT0osY0FBYztBQUN2QjtBQUFDLElBQUFZLFFBQUEsR0FBQUMsT0FBQSxjQUVjakIscUJBQXFCIiwiaWdub3JlTGlzdCI6W119
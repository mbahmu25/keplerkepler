"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));
var _react = _interopRequireWildcard(require("react"));
var _styledComponents = _interopRequireWildcard(require("styled-components"));
var _layerTypeDropdownList = _interopRequireDefault(require("./layer-type-dropdown-list"));
var _layerTypeListItem = _interopRequireDefault(require("./layer-type-list-item"));
var _itemSelector = _interopRequireDefault(require("../../common/item-selector/item-selector"));
var _styledComponents2 = require("../../common/styled-components");
var _templateObject; // SPDX-License-Identifier: MIT
// Copyright contributors to the kepler.gl project
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != _typeof(e) && "function" != typeof e) return { "default": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n["default"] = e, t && t.set(e, n), n; }
var StyledLayerTypeSelector = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  .item-selector .item-selector__dropdown {\n    padding: 4px 10px 4px 10px;\n  }\n"])));
LayerTypeSelectorFactory.deps = [_layerTypeListItem["default"], _layerTypeDropdownList["default"]];
var getDisplayOption = function getDisplayOption(op) {
  return op.label;
};
var getOptionValue = function getOptionValue(op) {
  return op.id;
};
function LayerTypeSelectorFactory(LayerTypeListItem, LayerTypeDropdownList) {
  var LayerTypeSelector = function LayerTypeSelector(_ref) {
    var selected = _ref.selected,
      options = _ref.options,
      onSelect = _ref.onSelect,
      disabled = _ref.disabled;
    var selectedItems = (0, _react.useMemo)(function () {
      return options.find(function (op) {
        return op.id === selected;
      });
    }, [options, selected]);
    return /*#__PURE__*/_react["default"].createElement(_styledComponents2.SidePanelSection, null, /*#__PURE__*/_react["default"].createElement(StyledLayerTypeSelector, {
      className: "layer-config__type"
    }, /*#__PURE__*/_react["default"].createElement(_itemSelector["default"], {
      selectedItems: selectedItems,
      options: options,
      multiSelect: false,
      disabled: disabled,
      placeholder: "placeholder.selectType",
      onChange: onSelect,
      getOptionValue: getOptionValue,
      filterOption: "label",
      displayOption: getDisplayOption,
      DropDownLineItemRenderComponent: LayerTypeListItem,
      DropDownRenderComponent: LayerTypeDropdownList
    })));
  };
  return (0, _styledComponents.withTheme)(LayerTypeSelector);
}
var _default = exports["default"] = LayerTypeSelectorFactory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfc3R5bGVkQ29tcG9uZW50cyIsIl9sYXllclR5cGVEcm9wZG93bkxpc3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2xheWVyVHlwZUxpc3RJdGVtIiwiX2l0ZW1TZWxlY3RvciIsIl9zdHlsZWRDb21wb25lbnRzMiIsIl90ZW1wbGF0ZU9iamVjdCIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIlN0eWxlZExheWVyVHlwZVNlbGVjdG9yIiwic3R5bGVkIiwiZGl2IiwiX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbDIiLCJMYXllclR5cGVTZWxlY3RvckZhY3RvcnkiLCJkZXBzIiwiTGF5ZXJUeXBlTGlzdEl0ZW1GYWN0b3J5IiwiTGF5ZXJUeXBlRHJvcGRvd25MaXN0RmFjdG9yeSIsImdldERpc3BsYXlPcHRpb24iLCJvcCIsImxhYmVsIiwiZ2V0T3B0aW9uVmFsdWUiLCJpZCIsIkxheWVyVHlwZUxpc3RJdGVtIiwiTGF5ZXJUeXBlRHJvcGRvd25MaXN0IiwiTGF5ZXJUeXBlU2VsZWN0b3IiLCJfcmVmIiwic2VsZWN0ZWQiLCJvcHRpb25zIiwib25TZWxlY3QiLCJkaXNhYmxlZCIsInNlbGVjdGVkSXRlbXMiLCJ1c2VNZW1vIiwiZmluZCIsImNyZWF0ZUVsZW1lbnQiLCJTaWRlUGFuZWxTZWN0aW9uIiwiY2xhc3NOYW1lIiwibXVsdGlTZWxlY3QiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwiZmlsdGVyT3B0aW9uIiwiZGlzcGxheU9wdGlvbiIsIkRyb3BEb3duTGluZUl0ZW1SZW5kZXJDb21wb25lbnQiLCJEcm9wRG93blJlbmRlckNvbXBvbmVudCIsIndpdGhUaGVtZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zaWRlLXBhbmVsL2xheWVyLXBhbmVsL2xheWVyLXR5cGUtc2VsZWN0b3IudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbi8vIENvcHlyaWdodCBjb250cmlidXRvcnMgdG8gdGhlIGtlcGxlci5nbCBwcm9qZWN0XG5cbmltcG9ydCBSZWFjdCwge3VzZU1lbW99IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQsIHt3aXRoVGhlbWV9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcblxuaW1wb3J0IExheWVyVHlwZURyb3Bkb3duTGlzdEZhY3RvcnksIHtMYXllclR5cGVPcHRpb259IGZyb20gJy4vbGF5ZXItdHlwZS1kcm9wZG93bi1saXN0JztcbmltcG9ydCBMYXllclR5cGVMaXN0SXRlbUZhY3RvcnkgZnJvbSAnLi9sYXllci10eXBlLWxpc3QtaXRlbSc7XG5pbXBvcnQgSXRlbVNlbGVjdG9yIGZyb20gJy4uLy4uL2NvbW1vbi9pdGVtLXNlbGVjdG9yL2l0ZW0tc2VsZWN0b3InO1xuXG5pbXBvcnQge1NpZGVQYW5lbFNlY3Rpb259IGZyb20gJy4uLy4uL2NvbW1vbi9zdHlsZWQtY29tcG9uZW50cyc7XG5cbnR5cGUgT3B0aW9uID0ge1xuICBpZDogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xuICBpY29uOiBhbnk7IC8vXG4gIHJlcXVpcmVEYXRhOiBhbnk7IC8vXG59O1xuXG5leHBvcnQgdHlwZSBMYXllclR5cGVTZWxlY3RvclByb3BzID0ge1xuICBzZWxlY3RlZDogc3RyaW5nIHwgbnVsbDtcbiAgb25TZWxlY3Q6IChcbiAgICBpdGVtczpcbiAgICAgIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBvYmplY3QpW11cbiAgICAgIHwgc3RyaW5nXG4gICAgICB8IG51bWJlclxuICAgICAgfCBib29sZWFuXG4gICAgICB8IG9iamVjdFxuICAgICAgfCBudWxsXG4gICkgPT4gdm9pZDtcbiAgb3B0aW9uczogTGF5ZXJUeXBlT3B0aW9uW107XG4gIC8vIFRPRE8gYWRkIGNvcnJlY3QgdHlwZSBhZnRlciBUaGVtZSB0eXBpbmdcbiAgdGhlbWU6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIGRpc2FibGVkOiBib29sZWFuO1xufTtcblxuY29uc3QgU3R5bGVkTGF5ZXJUeXBlU2VsZWN0b3IgPSBzdHlsZWQuZGl2YFxuICAuaXRlbS1zZWxlY3RvciAuaXRlbS1zZWxlY3Rvcl9fZHJvcGRvd24ge1xuICAgIHBhZGRpbmc6IDRweCAxMHB4IDRweCAxMHB4O1xuICB9XG5gO1xuXG5MYXllclR5cGVTZWxlY3RvckZhY3RvcnkuZGVwcyA9IFtMYXllclR5cGVMaXN0SXRlbUZhY3RvcnksIExheWVyVHlwZURyb3Bkb3duTGlzdEZhY3RvcnldO1xuXG5jb25zdCBnZXREaXNwbGF5T3B0aW9uID0gKG9wOiBPcHRpb24pID0+IG9wLmxhYmVsO1xuY29uc3QgZ2V0T3B0aW9uVmFsdWUgPSAob3A6IE9wdGlvbikgPT4gb3AuaWQ7XG5cbmZ1bmN0aW9uIExheWVyVHlwZVNlbGVjdG9yRmFjdG9yeShcbiAgTGF5ZXJUeXBlTGlzdEl0ZW06IFJldHVyblR5cGU8dHlwZW9mIExheWVyVHlwZUxpc3RJdGVtRmFjdG9yeT4sXG4gIExheWVyVHlwZURyb3Bkb3duTGlzdDogUmV0dXJuVHlwZTx0eXBlb2YgTGF5ZXJUeXBlRHJvcGRvd25MaXN0RmFjdG9yeT5cbikge1xuICBjb25zdCBMYXllclR5cGVTZWxlY3RvcjogUmVhY3QuRkM8TGF5ZXJUeXBlU2VsZWN0b3JQcm9wcz4gPSAoe1xuICAgIHNlbGVjdGVkLFxuICAgIG9wdGlvbnMsXG4gICAgb25TZWxlY3QsXG4gICAgZGlzYWJsZWRcbiAgfSkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gb3B0aW9ucy5maW5kKG9wID0+IG9wLmlkID09PSBzZWxlY3RlZCksXG4gICAgICBbb3B0aW9ucywgc2VsZWN0ZWRdXG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8U2lkZVBhbmVsU2VjdGlvbj5cbiAgICAgICAgPFN0eWxlZExheWVyVHlwZVNlbGVjdG9yIGNsYXNzTmFtZT1cImxheWVyLWNvbmZpZ19fdHlwZVwiPlxuICAgICAgICAgIDxJdGVtU2VsZWN0b3JcbiAgICAgICAgICAgIHNlbGVjdGVkSXRlbXM9e3NlbGVjdGVkSXRlbXN9XG4gICAgICAgICAgICBvcHRpb25zPXtvcHRpb25zfVxuICAgICAgICAgICAgbXVsdGlTZWxlY3Q9e2ZhbHNlfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJwbGFjZWhvbGRlci5zZWxlY3RUeXBlXCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvblNlbGVjdH1cbiAgICAgICAgICAgIGdldE9wdGlvblZhbHVlPXtnZXRPcHRpb25WYWx1ZX1cbiAgICAgICAgICAgIGZpbHRlck9wdGlvbj1cImxhYmVsXCJcbiAgICAgICAgICAgIGRpc3BsYXlPcHRpb249e2dldERpc3BsYXlPcHRpb259XG4gICAgICAgICAgICBEcm9wRG93bkxpbmVJdGVtUmVuZGVyQ29tcG9uZW50PXtMYXllclR5cGVMaXN0SXRlbX1cbiAgICAgICAgICAgIERyb3BEb3duUmVuZGVyQ29tcG9uZW50PXtMYXllclR5cGVEcm9wZG93bkxpc3R9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9TdHlsZWRMYXllclR5cGVTZWxlY3Rvcj5cbiAgICAgIDwvU2lkZVBhbmVsU2VjdGlvbj5cbiAgICApO1xuICB9O1xuXG4gIHJldHVybiB3aXRoVGhlbWUoTGF5ZXJUeXBlU2VsZWN0b3IpIGFzIFJlYWN0LkZDPE9taXQ8TGF5ZXJUeXBlU2VsZWN0b3JQcm9wcywgJ3RoZW1lJz4+O1xufVxu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
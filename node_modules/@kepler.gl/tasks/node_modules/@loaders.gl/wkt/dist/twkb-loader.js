// loaders.gl
// SPDX-License-Identifier: MIT
// Copyright (c) vis.gl contributors
import { VERSION } from "./lib/utils/version.js";
import { parseTWKBGeometry, isTWKB } from "./lib/parse-twkb.js";
/**
 * Worker loader for WKB (Well-Known Binary)
 */
export const TWKBWorkerLoader = {
    dataType: null,
    batchType: null,
    name: 'TWKB (Tiny Well-Known Binary)',
    id: 'twkb',
    module: 'wkt',
    version: VERSION,
    worker: true,
    category: 'geometry',
    extensions: ['twkb'],
    mimeTypes: [],
    // TODO can we define static, serializable tests, eg. some binary strings?
    tests: [isTWKB],
    options: {
        wkb: {
            shape: 'binary-geometry' // 'geojson-geometry'
        }
    }
};
/**
 * Loader for WKB (Well-Known Binary)
 */
export const TWKBLoader = {
    ...TWKBWorkerLoader,
    parse: async (arrayBuffer) => parseTWKBGeometry(arrayBuffer),
    parseSync: parseTWKBGeometry
};

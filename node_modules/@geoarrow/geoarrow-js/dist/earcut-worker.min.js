var Ie=Object.create;var ie=Object.defineProperty;var Ae=Object.getOwnPropertyDescriptor;var Ve=Object.getOwnPropertyNames;var We=Object.getPrototypeOf,Ze=Object.prototype.hasOwnProperty;var z=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Oe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ve(t))!Ze.call(e,o)&&o!==n&&ie(e,o,{get:()=>t[o],enumerable:!(r=Ae(t,o))||r.enumerable});return e};var Be=(e,t,n)=>(n=e!=null?Ie(We(e)):{},Oe(t||!e||!e.__esModule?ie(n,"default",{value:e,enumerable:!0}):n,e));var le=z((At,se)=>{"use strict";se.exports=e=>e?typeof Symbol.observable=="symbol"&&typeof e[Symbol.observable]=="function"?e===e[Symbol.observable]():typeof e["@@observable"]=="function"?e===e["@@observable"]():!1:!1});var ce=z(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.DefaultSerializer=E.extendSerializer=void 0;function $e(e,t){let n=e.deserialize.bind(e),r=e.serialize.bind(e);return{deserialize(o){return t.deserialize(o,n)},serialize(o){return t.serialize(o,r)}}}E.extendSerializer=$e;var ue={deserialize(e){return Object.assign(Error(e.message),{name:e.name,stack:e.stack})},serialize(e){return{__error_marker:"$$error",message:e.message,name:e.name,stack:e.stack}}},je=e=>e&&typeof e=="object"&&"__error_marker"in e&&e.__error_marker==="$$error";E.DefaultSerializer={deserialize(e){return je(e)?ue.deserialize(e):e},serialize(e){return e instanceof Error?ue.serialize(e):e}}});var J=z(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.serialize=D.deserialize=D.registerSerializer=void 0;var fe=ce(),$=fe.DefaultSerializer;function Fe(e){$=fe.extendSerializer($,e)}D.registerSerializer=Fe;function Re(e){return $.deserialize(e)}D.deserialize=Re;function He(e){return $.serialize(e)}D.serialize=He});var ae=z(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.$worker=S.$transferable=S.$terminate=S.$events=S.$errors=void 0;S.$errors=Symbol("thread.errors");S.$events=Symbol("thread.events");S.$terminate=Symbol("thread.terminate");S.$transferable=Symbol("thread.transferable");S.$worker=Symbol("thread.worker")});var K=z(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.Transfer=k.isTransferDescriptor=void 0;var ge=ae();function Ge(e){return!(!e||typeof e!="object")}function Ne(e){return e&&typeof e=="object"&&e[ge.$transferable]}k.isTransferDescriptor=Ne;function Je(e,t){if(!t){if(!Ge(e))throw Error();t=[e]}return{[ge.$transferable]:!0,send:e,transferables:t}}k.Transfer=Je});var ye=z(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.WorkerMessageType=w.MasterMessageType=void 0;var Ke;(function(e){e.cancel="cancel",e.run="run"})(Ke=w.MasterMessageType||(w.MasterMessageType={}));var Ue;(function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"})(Ue=w.WorkerMessageType||(w.WorkerMessageType={}))});var pe=z(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});var qe=function(){let t=typeof self<"u"&&typeof Window<"u"&&self instanceof Window;return!!(typeof self<"u"&&self.postMessage&&!t)},Qe=function(t,n){self.postMessage(t,n)},Xe=function(t){let n=o=>{t(o.data)},r=()=>{self.removeEventListener("message",n)};return self.addEventListener("message",n),r};U.default={isWorkerRuntime:qe,postMessageToMaster:Qe,subscribeToMasterMessages:Xe}});var ve=z(M=>{"use strict";var Ye=M&&M.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function l(f){try{u(r.next(f))}catch(a){i(a)}}function c(f){try{u(r.throw(f))}catch(a){i(a)}}function u(f){f.done?s(f.value):o(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})},Pe=M&&M.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(M,"__esModule",{value:!0});M.expose=M.isWorkerRuntime=M.Transfer=M.registerSerializer=void 0;var et=Pe(le()),C=J(),tt=K(),L=ye(),v=Pe(pe()),nt=J();Object.defineProperty(M,"registerSerializer",{enumerable:!0,get:function(){return nt.registerSerializer}});var rt=K();Object.defineProperty(M,"Transfer",{enumerable:!0,get:function(){return rt.Transfer}});M.isWorkerRuntime=v.default.isWorkerRuntime;var de=!1,A=new Map,ot=e=>e&&e.type===L.MasterMessageType.cancel,xe=e=>e&&e.type===L.MasterMessageType.run,he=e=>et.default(e)||it(e);function it(e){return e&&typeof e=="object"&&typeof e.subscribe=="function"}function Me(e){return tt.isTransferDescriptor(e)?{payload:e.send,transferables:e.transferables}:{payload:e,transferables:void 0}}function st(){let e={type:L.WorkerMessageType.init,exposed:{type:"function"}};v.default.postMessageToMaster(e)}function lt(e){let t={type:L.WorkerMessageType.init,exposed:{type:"module",methods:e}};v.default.postMessageToMaster(t)}function q(e,t){let{payload:n,transferables:r}=Me(t),o={type:L.WorkerMessageType.error,uid:e,error:C.serialize(n)};v.default.postMessageToMaster(o,r)}function Q(e,t,n){let{payload:r,transferables:o}=Me(n),s={type:L.WorkerMessageType.result,uid:e,complete:t?!0:void 0,payload:r};v.default.postMessageToMaster(s,o)}function ut(e,t){let n={type:L.WorkerMessageType.running,uid:e,resultType:t};v.default.postMessageToMaster(n)}function j(e){try{let t={type:L.WorkerMessageType.uncaughtError,error:C.serialize(e)};v.default.postMessageToMaster(t)}catch(t){console.error(`Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.
Latest error:`,t,`
Original error:`,e)}}function me(e,t,n){return Ye(this,void 0,void 0,function*(){let r;try{r=t(...n)}catch(s){return q(e,s)}let o=he(r)?"observable":"promise";if(ut(e,o),he(r)){let s=r.subscribe(i=>Q(e,!1,C.serialize(i)),i=>{q(e,C.serialize(i)),A.delete(e)},()=>{Q(e,!0),A.delete(e)});A.set(e,s)}else try{let s=yield r;Q(e,!0,C.serialize(s))}catch(s){q(e,C.serialize(s))}})}function ct(e){if(!v.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(de)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(de=!0,typeof e=="function")v.default.subscribeToMasterMessages(t=>{xe(t)&&!t.method&&me(t.uid,e,t.args.map(C.deserialize))}),st();else if(typeof e=="object"&&e){v.default.subscribeToMasterMessages(n=>{xe(n)&&n.method&&me(n.uid,e[n.method],n.args.map(C.deserialize))});let t=Object.keys(e).filter(n=>typeof e[n]=="function");lt(t)}else throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${e}`);v.default.subscribeToMasterMessages(t=>{if(ot(t)){let n=t.uid,r=A.get(n);r&&(r.unsubscribe(),A.delete(n))}})}M.expose=ct;typeof self<"u"&&typeof self.addEventListener=="function"&&v.default.isWorkerRuntime()&&(self.addEventListener("error",e=>{setTimeout(()=>j(e.error||e),250)}),self.addEventListener("unhandledrejection",e=>{let t=e.reason;t&&typeof t.message=="string"&&setTimeout(()=>j(t),250)}));typeof process<"u"&&typeof process.on=="function"&&v.default.isWorkerRuntime()&&(process.on("uncaughtException",e=>{setTimeout(()=>j(e),250)}),process.on("unhandledRejection",e=>{e&&typeof e.message=="string"&&setTimeout(()=>j(e),250)}))});var F=Be(ve(),1),Se=F.default.expose,Ft=F.default.registerSerializer,be=F.default.Transfer;function T(e){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(e)}function X(e,t){if(T(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(T(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y(e){var t=X(e,"string");return T(t)=="symbol"?t:String(t)}function b(e,t,n){return t=Y(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V={x:0,y:1,z:2};function R(e,t={}){let{start:n=0,end:r=e.length,plane:o="xy"}=t,s=t.size||2,i=0,l=V[o[0]],c=V[o[1]];for(let u=n,f=r-s;u<r;u+=s)i+=(e[u+l]-e[f+l])*(e[u+c]+e[f+c]),f=u;return i/2}function te(e,t,n=2,r,o="xy"){let s=t&&t.length,i=s?t[0]*n:e.length,l=De(e,0,i,n,!0,r&&r[0],o),c=[];if(!l||l.next===l.prev)return c;let u,f,a,p,m,d,P;if(s&&(l=xt(e,t,l,n,r,o)),e.length>80*n){p=f=e[0],m=a=e[1];for(let h=n;h<i;h+=n)d=e[h],P=e[h+1],d<p&&(p=d),P<m&&(m=P),d>f&&(f=d),P>a&&(a=P);u=Math.max(f-p,a-m),u=u!==0?32767/u:0}return W(l,c,n,p,m,u,0),c}function De(e,t,n,r,o,s,i){let l,c;s===void 0&&(s=R(e,{start:t,end:n,size:r,plane:i}));let u=V[i[0]],f=V[i[1]];if(o===s<0)for(l=t;l<n;l+=r)c=ze(l,e[l+u],e[l+f],c);else for(l=n-r;l>=t;l-=r)c=ze(l,e[l+u],e[l+f],c);return c&&N(c,c.next)&&(O(c),c=c.next),c}function _(e,t){if(!e)return e;t||(t=e);let n=e,r;do if(r=!1,!n.steiner&&(N(n,n.next)||x(n.prev,n,n.next)===0)){if(O(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function W(e,t,n,r,o,s,i){if(!e)return;!i&&s&&vt(e,r,o,s);let l=e,c,u;for(;e.prev!==e.next;){if(c=e.prev,u=e.next,s?yt(e,r,o,s):gt(e)){t.push(c.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),O(e),e=u.next,l=u.next;continue}if(e=u,e===l){i?i===1?(e=pt(_(e),t,n),W(e,t,n,r,o,s,2)):i===2&&dt(e,t,n,r,o,s):W(_(e),t,n,r,o,s,1);break}}}function gt(e){let t=e.prev,n=e,r=e.next;if(x(t,n,r)>=0)return!1;let o=t.x,s=n.x,i=r.x,l=t.y,c=n.y,u=r.y,f=o<s?o<i?o:i:s<i?s:i,a=l<c?l<u?l:u:c<u?c:u,p=o>s?o>i?o:i:s>i?s:i,m=l>c?l>u?l:u:c>u?c:u,d=r.next;for(;d!==t;){if(d.x>=f&&d.x<=p&&d.y>=a&&d.y<=m&&I(o,l,s,c,i,u,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function yt(e,t,n,r){let o=e.prev,s=e,i=e.next;if(x(o,s,i)>=0)return!1;let l=o.x,c=s.x,u=i.x,f=o.y,a=s.y,p=i.y,m=l<c?l<u?l:u:c<u?c:u,d=f<a?f<p?f:p:a<p?a:p,P=l>c?l>u?l:u:c>u?c:u,h=f>a?f>p?f:p:a>p?a:p,re=ee(m,d,t,n,r),oe=ee(P,h,t,n,r),g=e.prevZ,y=e.nextZ;for(;g&&g.z>=re&&y&&y.z<=oe;){if(g.x>=m&&g.x<=P&&g.y>=d&&g.y<=h&&g!==o&&g!==i&&I(l,f,c,a,u,p,g.x,g.y)&&x(g.prev,g,g.next)>=0||(g=g.prevZ,y.x>=m&&y.x<=P&&y.y>=d&&y.y<=h&&y!==o&&y!==i&&I(l,f,c,a,u,p,y.x,y.y)&&x(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;g&&g.z>=re;){if(g.x>=m&&g.x<=P&&g.y>=d&&g.y<=h&&g!==o&&g!==i&&I(l,f,c,a,u,p,g.x,g.y)&&x(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;y&&y.z<=oe;){if(y.x>=m&&y.x<=P&&y.y>=d&&y.y<=h&&y!==o&&y!==i&&I(l,f,c,a,u,p,y.x,y.y)&&x(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function pt(e,t,n){let r=e;do{let o=r.prev,s=r.next.next;!N(o,s)&&we(o,r,r.next,s)&&Z(o,s)&&Z(s,o)&&(t.push(o.i/n|0),t.push(r.i/n|0),t.push(s.i/n|0),O(r),O(r.next),r=e=s),r=r.next}while(r!==e);return _(r)}function dt(e,t,n,r,o,s){let i=e;do{let l=i.next.next;for(;l!==i.prev;){if(i.i!==l.i&&zt(i,l)){let c=Ce(i,l);i=_(i,i.next),c=_(c,c.next),W(i,t,n,r,o,s,0),W(c,t,n,r,o,s,0);return}l=l.next}i=i.next}while(i!==e)}function xt(e,t,n,r,o,s){let i=[],l,c,u,f,a;for(l=0,c=t.length;l<c;l++)u=t[l]*r,f=l<c-1?t[l+1]*r:e.length,a=De(e,u,f,r,!1,o&&o[l+1],s),a===a.next&&(a.steiner=!0),i.push(bt(a));for(i.sort(ht),l=0;l<i.length;l++)n=mt(i[l],n);return n}function ht(e,t){return e.x-t.x}function mt(e,t){let n=Pt(e,t);if(!n)return t;let r=Ce(n,e);return _(r,r.next),_(n,n.next)}function Pt(e,t){let n=t,r=e.x,o=e.y,s=-1/0,i;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){let p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=r&&p>s&&(s=p,i=n.x<n.next.x?n:n.next,p===r))return i}n=n.next}while(n!==t);if(!i)return null;let l=i,c=i.x,u=i.y,f=1/0,a;n=i;do r>=n.x&&n.x>=c&&r!==n.x&&I(o<u?r:s,o,c,u,o<u?s:r,o,n.x,n.y)&&(a=Math.abs(o-n.y)/(r-n.x),Z(n,e)&&(a<f||a===f&&(n.x>i.x||n.x===i.x&&Mt(i,n)))&&(i=n,f=a)),n=n.next;while(n!==l);return i}function Mt(e,t){return x(e.prev,e,t.prev)<0&&x(t.next,e,e.next)<0}function vt(e,t,n,r){let o=e;do o.z===0&&(o.z=ee(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,St(o)}function St(e){let t,n,r=1,o,s,i,l,c,u;do{for(s=e,e=null,u=null,o=0;s;){for(o++,l=s,i=0,n=0;n<r&&(i++,l=l.nextZ,!!l);n++);for(c=r;i>0||c>0&&l;)i!==0&&(c===0||!l||s.z<=l.z)?(t=s,s=s.nextZ,i--):(t=l,l=l.nextZ,c--),u?u.nextZ=t:e=t,t.prevZ=u,u=t;s=l}u.nextZ=null,r*=2}while(o>1);return e}function ee(e,t,n,r,o){return e=(e-n)*o|0,t=(t-r)*o|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function bt(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function I(e,t,n,r,o,s,i,l){return(o-i)*(t-l)>=(e-i)*(s-l)&&(e-i)*(r-l)>=(n-i)*(t-l)&&(n-i)*(s-l)>=(o-i)*(r-l)}function zt(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!Dt(e,t)&&(Z(e,t)&&Z(t,e)&&wt(e,t)&&(x(e.prev,e,t.prev)||x(e,t.prev,t))||N(e,t)&&x(e.prev,e,e.next)>0&&x(t.prev,t,t.next)>0)}function x(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function N(e,t){return e.x===t.x&&e.y===t.y}function we(e,t,n,r){let o=G(x(e,t,n)),s=G(x(e,t,r)),i=G(x(n,r,e)),l=G(x(n,r,t));return!!(o!==s&&i!==l||o===0&&H(e,n,t)||s===0&&H(e,r,t)||i===0&&H(n,e,r)||l===0&&H(n,t,r))}function H(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function G(e){return e>0?1:e<0?-1:0}function Dt(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&we(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Z(e,t){return x(e.prev,e,e.next)<0?x(e,t,e.next)>=0&&x(e,e.prev,t)>=0:x(e,t,e.prev)<0||x(e,e.next,t)<0}function wt(e,t){let n=e,r=!1,o=(e.x+t.x)/2,s=(e.y+t.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&o<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function Ce(e,t){let n=new B(e.i,e.x,e.y),r=new B(t.i,t.x,t.y),o=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function ze(e,t,n,r){let o=new B(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function O(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}var B=class{constructor(t,n,r){b(this,"i",void 0),b(this,"x",void 0),b(this,"y",void 0),b(this,"prev",null),b(this,"next",null),b(this,"z",0),b(this,"prevZ",null),b(this,"nextZ",null),b(this,"steiner",!1),this.i=t,this.x=n,this.y=r}};function _e(e){return"data"in e?e.getChildAt(0):e.children[0]}function Ee(e){return"data"in e?e.getChildAt(0):e.children[0]}function ke(e){return"data"in e?e.getChildAt(0):e.children[0]}function ne(e){if("data"in e)return e.data.map(s=>ne(s));let t=[],n=0;for(let s=0;s<e.length;s++){let i=Et(e,s);t.push(i),n+=i.length}let r=new Uint32Array(n),o=0;for(let s of t)for(let i of s)r[o]=i,o+=1;return r}function Et(e,t){let n=e.valueOffsets,r=ke(e),o=r.valueOffsets,s=Ee(r),i=s.type.listSize,l=_e(s),c=n[t],u=n[t+1],f=o[c],a=o[u],p=l.values.subarray(f*i,a*i),m=o[c],d=[];for(let h=c+1;h<u;h++)d.push(o[h]-m);let P=te(p,d,i);for(let h=0;h<P.length;h++)P[h]+=m;return P}function kt(e){let t=ne(e);return be(t,[t.buffer])}Se(kt);
